{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.useBottomSheetDynamicSnapPoints=void 0;var _react=require(\"react\");var _reactNativeReanimated=require(\"react-native-reanimated\");var _constants=require(\"../components/bottomSheet/constants\");var _worklet_7299122079901_init_data={code:\"function anonymous(){const{animatedHandleHeight,INITIAL_HANDLE_HEIGHT,animatedContentHeight,initialSnapPoints,INITIAL_SNAP_POINT}=this._closure;if(animatedHandleHeight.value===INITIAL_HANDLE_HEIGHT||animatedContentHeight.value===0){return initialSnapPoints.map(function(){return INITIAL_SNAP_POINT;});}const contentWithHandleHeight=animatedContentHeight.value+animatedHandleHeight.value;return initialSnapPoints.map(function(snapPoint){return snapPoint==='CONTENT_HEIGHT'?contentWithHandleHeight:snapPoint;});}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useBottomSheetDynamicSnapPoints.js\"};var useBottomSheetDynamicSnapPoints=exports.useBottomSheetDynamicSnapPoints=function useBottomSheetDynamicSnapPoints(initialSnapPoints){var animatedContentHeight=(0,_reactNativeReanimated.useSharedValue)(0);var animatedHandleHeight=(0,_reactNativeReanimated.useSharedValue)(_constants.INITIAL_HANDLE_HEIGHT);var animatedSnapPoints=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){if(animatedHandleHeight.value===_constants.INITIAL_HANDLE_HEIGHT||animatedContentHeight.value===0){return initialSnapPoints.map(function(){return _constants.INITIAL_SNAP_POINT;});}var contentWithHandleHeight=animatedContentHeight.value+animatedHandleHeight.value;return initialSnapPoints.map(function(snapPoint){return snapPoint==='CONTENT_HEIGHT'?contentWithHandleHeight:snapPoint;});};_f._closure={animatedHandleHeight:animatedHandleHeight,INITIAL_HANDLE_HEIGHT:_constants.INITIAL_HANDLE_HEIGHT,animatedContentHeight:animatedContentHeight,initialSnapPoints:initialSnapPoints,INITIAL_SNAP_POINT:_constants.INITIAL_SNAP_POINT};_f.__initData=_worklet_7299122079901_init_data;_f.__workletHash=7299122079901;return _f;}(),[]);var handleContentLayout=(0,_react.useCallback)(function(_ref){var height=_ref.nativeEvent.layout.height;animatedContentHeight.value=height;},[animatedContentHeight]);(0,_react.useEffect)(function(){console.warn('`useBottomSheetDynamicSnapPoints` will be deprecated in the next major release! please use the new introduce prop `enableDynamicSizing`.');},[]);return{animatedSnapPoints:animatedSnapPoints,animatedHandleHeight:animatedHandleHeight,animatedContentHeight:animatedContentHeight,handleContentLayout:handleContentLayout};};","map":{"version":3,"names":["_react","require","_reactNativeReanimated","_constants","_worklet_7299122079901_init_data","code","location","useBottomSheetDynamicSnapPoints","exports","initialSnapPoints","animatedContentHeight","useSharedValue","animatedHandleHeight","INITIAL_HANDLE_HEIGHT","animatedSnapPoints","useDerivedValue","_f","value","map","INITIAL_SNAP_POINT","contentWithHandleHeight","snapPoint","_closure","__initData","__workletHash","handleContentLayout","useCallback","_ref","height","nativeEvent","layout","useEffect","console","warn"],"sources":["/Users/shayan/workspace/godfather/node_modules/@gorhom/bottom-sheet/lib/module/hooks/useBottomSheetDynamicSnapPoints.ts"],"sourcesContent":["import { useCallback, useEffect } from 'react';\nimport { useDerivedValue, useSharedValue } from 'react-native-reanimated';\nimport {\n  INITIAL_HANDLE_HEIGHT,\n  INITIAL_SNAP_POINT,\n} from '../components/bottomSheet/constants';\n\n/**\n * Provides dynamic content height calculating functionalities, by\n * replacing the placeholder `CONTENT_HEIGHT` with calculated layout.\n * @example\n * [0, 'CONTENT_HEIGHT', '100%']\n * @param initialSnapPoints your snap point with content height placeholder.\n * @returns {\n *  - animatedSnapPoints: an animated snap points to be set on `BottomSheet` or `BottomSheetModal`.\n *  - animatedHandleHeight: an animated handle height callback node to be set on `BottomSheet` or `BottomSheetModal`.\n *  - animatedContentHeight: an animated content height callback node to be set on `BottomSheet` or `BottomSheetModal`.\n *  - handleContentLayout: a `onLayout` callback method to be set on `BottomSheetView` component.\n * }\n * @deprecated will be deprecated in the next major release! please use the new introduce prop `enableDynamicSizing`.\n */\nexport const useBottomSheetDynamicSnapPoints = (\n  initialSnapPoints: Array<string | number>\n) => {\n  // variables\n  const animatedContentHeight = useSharedValue(0);\n  const animatedHandleHeight = useSharedValue(INITIAL_HANDLE_HEIGHT);\n  const animatedSnapPoints = useDerivedValue(() => {\n    if (\n      animatedHandleHeight.value === INITIAL_HANDLE_HEIGHT ||\n      animatedContentHeight.value === 0\n    ) {\n      return initialSnapPoints.map(() => INITIAL_SNAP_POINT);\n    }\n    const contentWithHandleHeight =\n      animatedContentHeight.value + animatedHandleHeight.value;\n\n    return initialSnapPoints.map(snapPoint =>\n      snapPoint === 'CONTENT_HEIGHT' ? contentWithHandleHeight : snapPoint\n    );\n  }, []);\n\n  type HandleContentLayoutProps = {\n    nativeEvent: {\n      layout: { height: number };\n    };\n  };\n  // callbacks\n  const handleContentLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: HandleContentLayoutProps) => {\n      animatedContentHeight.value = height;\n    },\n    [animatedContentHeight]\n  );\n\n  //#region effects\n  useEffect(() => {\n    console.warn(\n      '`useBottomSheetDynamicSnapPoints` will be deprecated in the next major release! please use the new introduce prop `enableDynamicSizing`.'\n    );\n  }, []);\n  //#endregion\n  return {\n    animatedSnapPoints,\n    animatedHandleHeight,\n    animatedContentHeight,\n    handleContentLayout,\n  };\n};\n"],"mappings":"wGAAA,IAAAA,MAAA,CAAAC,OAAA,UACA,IAAAC,sBAAA,CAAAD,OAAA,4BACA,IAAAE,UAAA,CAAAF,OAAA,4CAAAG,gCAAA,EAAAC,IAAA,kgBAAAC,QAAA,0FAmBO,GAAM,CAAAC,+BAA+B,CAAAC,OAAA,CAAAD,+BAAA,CAC1C,QADW,CAAAA,+BAA+BA,CAC1CE,iBAD6C,CAE1C,CAEH,GAAM,CAAAC,qBAAqB,CAAG,GAAAC,qCAAc,EAAC,CAAD,CAA5C,CACA,GAAM,CAAAC,oBAAoB,CAAG,GAAAD,qCAAc,EAACE,gCAAD,CAA3C,CACA,GAAM,CAAAC,kBAAkB,CAAG,GAAAC,sCAAe,iBAAAC,EAAA,UAAAA,GAAA,CAAO,CAC/C,GACEJ,oBAAoB,CAACK,KAArB,GAA+BJ,gCAA/B,EACAH,qBAAqB,CAACO,KAAtB,GAAgC,CAFlC,CAGE,CACA,MAAO,CAAAR,iBAAiB,CAACS,GAAlB,CAAsB,iBAAM,CAAAC,6BAA5B,GAAP,CACD,CACD,GAAM,CAAAC,uBAAuB,CAC3BV,qBAAqB,CAACO,KAAtB,CAA8BL,oBAAoB,CAACK,KADrD,CAGA,MAAO,CAAAR,iBAAiB,CAACS,GAAlB,CAAsB,SAAAG,SAAS,QACpC,CAAAA,SAAS,GAAK,gBAAd,CAAiCD,uBAAjC,CAA2DC,SADtD,GAAP,CAGD,CAbyC,CAAAL,EAAA,CAAAM,QAAA,EAAAV,oBAAA,CAnB5CA,oBAAA,CAAAC,qBAAA,CAP0BA,gCAAsB,CAAAH,qBAAA,CAOhDA,qBAAA,CAAAD,iBAAA,CACAA,iBAAA,CAAAU,kBAAA,CALEA,6BAFF,EAAAH,EAAA,CAAAO,UAAA,CAAAnB,gCAAA,CAAAY,EAAA,CAAAQ,aAAA,sBAAAR,EAAA,KAsCK,EAbuC,CAA1C,CAqBA,GAAM,CAAAS,mBAAmB,CAAG,GAAAC,kBAAW,EACrC,SAAAC,IAAA,CAIgC,IAFlB,CAAAC,MAAA,CAAAD,IAAA,CADZE,WAAW,CACTC,MAAM,CAAIF,MAAA,CAGZlB,qBAAqB,CAACO,KAAtB,CAA8BW,MAA9B,CACD,CAPoC,CAQrC,CAAClB,qBAAD,CARqC,CAAvC,CAYA,GAAAqB,gBAAS,EAAC,UAAM,CACdC,OAAO,CAACC,IAAR,CACE,0IADF,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,MAAO,CACLnB,kBADK,CACLA,kBADK,CAELF,oBAFK,CAELA,oBAFK,CAGLF,qBAHK,CAGLA,qBAHK,CAILe,mBAAA,CAAAA,mBAJK,CAAP,CAMD,CAnDM"},"metadata":{},"sourceType":"script","externalDependencies":[]}