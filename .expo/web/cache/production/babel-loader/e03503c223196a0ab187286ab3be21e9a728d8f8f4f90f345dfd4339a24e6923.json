{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.PlayerListScreen=void 0;var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _Text=_interopRequireDefault(require(\"../../components/Text\"));var _mobxReact=require(\"mobx-react\");var _useStore2=require(\"../../constants/useStore\");var _Constants=require(\"../../constants/Constants\");var _native=require(\"@react-navigation/native\");var _Header=_interopRequireDefault(require(\"../../components/Header\"));var _i18n=require(\"../../i18n\");var _theme=require(\"../../theme\");var storage=_interopRequireWildcard(require(\"../../utils/storage\"));function _getRequireWildcardCache(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(\"default\"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var PlayerListScreen=exports.PlayerListScreen=(0,_mobxReact.observer)(function(_ref){var route=_ref.route;var _useState=(0,_react.useState)([]),_useState2=(0,_slicedToArray2.default)(_useState,2),players=_useState2[0],setPlayers=_useState2[1];var nav=(0,_native.useNavigation)();var gamePlayers=route.params.gamePlayers;var _useStore=(0,_useStore2.useStore)(),playerStore=_useStore.playerStore;var getPlayers=function _callee(){return _regenerator.default.async(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(storage.load('players'));case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},null,null,null,Promise);};(0,_react.useEffect)(function(){getPlayers().then(function(res){var _players=res;var filteredArray=_players.filter(function(item){return!gamePlayers.some(function(s){return JSON.stringify(s)===JSON.stringify(item);});});setPlayers(filteredArray);}).catch(function(err){});},[]);var selectPlayer=function selectPlayer(item){playerStore.addPlayers(item);var arr=(0,_toConsumableArray2.default)(players);var newList=arr.filter(function(el){return el!==item;});setPlayers(newList);};return _react.default.createElement(_reactNative.View,{style:{flex:1,width:'100%',backgroundColor:_theme.colors.background,paddingTop:20}},_react.default.createElement(_Header.default,{backPress:function backPress(){return nav.goBack();},title:(0,_i18n.translate)('game.addPlayerToThisGame')}),_react.default.createElement(_reactNative.FlatList,{data:players,keyExtractor:function keyExtractor(item){return item.id;},numColumns:3,ListEmptyComponent:function ListEmptyComponent(){return _react.default.createElement(_reactNative.View,{style:styles.emptyList},_react.default.createElement(_reactNative.Image,{source:require('../../assets/images/empty1.png'),style:{width:100,height:150}}),_react.default.createElement(_Text.default,{style:{fontSize:20}},(0,_i18n.translate)('game.anyPlayerExist')));},renderItem:function renderItem(_ref2){var item=_ref2.item;return _react.default.createElement(_reactNative.Pressable,{style:styles.playerIcon,key:item.id,onPress:function onPress(){return selectPlayer(item);}},_react.default.createElement(_reactNative.Image,{source:item!=null&&item.avatar?{uri:item.avatar}:require('../../assets/images/player2.png'),style:{width:80,height:80,borderRadius:10}}),_react.default.createElement(_Text.default,null,item.name));}}));});var styles=_reactNative.StyleSheet.create({header:{width:'100%',height:50,marginBottom:30,alignItems:'flex-end',flexDirection:'row-reverse',justifyContent:'space-between',paddingHorizontal:20},emptyList:{width:'100%',justifyContent:'center',alignItems:'center',height:_Constants.DHeight*0.7},playerIcon:{width:'33%',height:105,marginBottom:15,justifyContent:'space-between',alignItems:'center'}});","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_Text","_interopRequireDefault","_mobxReact","_useStore2","_Constants","_native","_Header","_i18n","_theme","storage","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","PlayerListScreen","exports","observer","_ref","route","_useState","useState","_useState2","_slicedToArray2","players","setPlayers","nav","useNavigation","gamePlayers","params","_useStore","useStore","playerStore","getPlayers","_callee","_regenerator","async","_callee$","_context","prev","next","awrap","load","abrupt","sent","stop","Promise","useEffect","then","res","_players","filteredArray","filter","item","some","s","JSON","stringify","catch","err","selectPlayer","addPlayers","arr","_toConsumableArray2","newList","el","createElement","View","style","flex","width","backgroundColor","colors","background","paddingTop","backPress","goBack","title","translate","FlatList","data","keyExtractor","id","numColumns","ListEmptyComponent","styles","emptyList","Image","source","height","fontSize","renderItem","_ref2","Pressable","playerIcon","key","onPress","avatar","uri","borderRadius","name","StyleSheet","create","header","marginBottom","alignItems","flexDirection","justifyContent","paddingHorizontal","DHeight"],"sources":["/Users/shayan/workspace/godfather/src/screen/Players/PlayerListScreen.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {FlatList, Image, Pressable, StyleSheet, View} from 'react-native';\nimport Text from '../../components/Text';\nimport {observer} from 'mobx-react';\nimport {useStore} from '../../constants/useStore';\nimport {DHeight, DWidth, backgroundColor} from '../../constants/Constants';\nimport {useNavigation} from '@react-navigation/native';\nimport Header from '../../components/Header';\nimport {translate} from '../../i18n';\nimport {colors} from '../../theme';\nimport * as storage from '../../utils/storage';\n\nconst PlayerListScreen = observer(({route}) => {\n  const [players, setPlayers] = useState([]);\n  const nav = useNavigation();\n  const gamePlayers = route.params.gamePlayers;\n  const {playerStore} = useStore();\n  const getPlayers = async () => {\n    return await storage.load('players');\n  };\n  useEffect(() => {\n    getPlayers()\n      .then(res => {\n        const _players = res;\n\n        const filteredArray = _players.filter(\n          item =>\n            !gamePlayers.some(s => JSON.stringify(s) === JSON.stringify(item)),\n        );\n        setPlayers(filteredArray);\n      })\n      .catch(err => {});\n  }, []);\n\n  const selectPlayer = item => {\n    playerStore.addPlayers(item);\n    const arr = [...players];\n    const newList = arr.filter(el => el !== item);\n    setPlayers(newList);\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        width: '100%',\n        backgroundColor: colors.background,\n        paddingTop: 20,\n        // paddingBottom: 60,\n      }}>\n      <Header\n        backPress={() => nav.goBack()}\n        title={translate('game.addPlayerToThisGame')}\n      />\n\n      <FlatList\n        data={players}\n        keyExtractor={item => item.id}\n        numColumns={3}\n        ListEmptyComponent={() => {\n          return (\n            <View style={styles.emptyList}>\n              <Image\n                source={require('../../assets/images/empty1.png')}\n                style={{width: 100, height: 150}}\n              />\n              <Text style={{fontSize: 20}}>\n                {translate('game.anyPlayerExist')}\n              </Text>\n            </View>\n          );\n        }}\n        renderItem={({item}) => {\n          return (\n            <Pressable\n              style={styles.playerIcon}\n              key={item.id}\n              onPress={() => selectPlayer(item)}>\n              <Image\n                source={\n                  item?.avatar\n                    ? {uri: item.avatar}\n                    : require('../../assets/images/player2.png')\n                }\n                style={{width: 80, height: 80, borderRadius: 10}}\n              />\n              <Text>{item.name}</Text>\n            </Pressable>\n          );\n        }}\n      />\n    </View>\n  );\n});\n\nconst styles = StyleSheet.create({\n  header: {\n    width: '100%',\n    height: 50,\n    marginBottom: 30,\n    alignItems: 'flex-end',\n    flexDirection: 'row-reverse',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n  },\n  emptyList: {\n    width: '100%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: DHeight * 0.7,\n    // marginTop: 80,\n  },\n  playerIcon: {\n    width: '33%',\n    height: 105,\n    marginBottom: 15,\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n});\nexport {PlayerListScreen};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}