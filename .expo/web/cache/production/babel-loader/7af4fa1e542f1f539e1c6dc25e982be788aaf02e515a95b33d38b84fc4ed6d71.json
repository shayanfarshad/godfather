{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.setupMicrotasks=exports.runOnUIImmediately=exports.runOnUI=exports.runOnJS=exports.callMicrotasks=void 0;var _toConsumableArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _NativeReanimated=_interopRequireDefault(require(\"./NativeReanimated\"));var _PlatformChecker=require(\"./PlatformChecker\");var _shareables=require(\"./shareables\");var IS_JEST=(0,_PlatformChecker.isJest)();var IS_NATIVE=!(0,_PlatformChecker.shouldBeUseWeb)();var _runOnUIQueue=[];var _worklet_14171424909649_init_data={code:\"function setupMicrotasks(){let microtasksQueue=[];let isExecutingMicrotasksQueue=false;global.queueMicrotask=function(callback){microtasksQueue.push(callback);};global.__callMicrotasks=function(){if(isExecutingMicrotasksQueue){return;}try{isExecutingMicrotasksQueue=true;for(let index=0;index<microtasksQueue.length;index+=1){microtasksQueue[index]();}microtasksQueue=[];global._maybeFlushUIUpdatesQueue();}finally{isExecutingMicrotasksQueue=false;}};}\"};var setupMicrotasks=exports.setupMicrotasks=function(){var setupMicrotasks=function setupMicrotasks(){var microtasksQueue=[];var isExecutingMicrotasksQueue=false;global.queueMicrotask=function(callback){microtasksQueue.push(callback);};global.__callMicrotasks=function(){if(isExecutingMicrotasksQueue){return;}try{isExecutingMicrotasksQueue=true;for(var index=0;index<microtasksQueue.length;index+=1){microtasksQueue[index]();}microtasksQueue=[];global._maybeFlushUIUpdatesQueue();}finally{isExecutingMicrotasksQueue=false;}};};setupMicrotasks.__closure={};setupMicrotasks.__initData=_worklet_14171424909649_init_data;setupMicrotasks.__workletHash=14171424909649;return setupMicrotasks;}();var _worklet_3679683358222_init_data={code:\"function callMicrotasksOnUIThread(){global.__callMicrotasks();}\"};var callMicrotasksOnUIThread=function(){var callMicrotasksOnUIThread=function callMicrotasksOnUIThread(){global.__callMicrotasks();};callMicrotasksOnUIThread.__closure={};callMicrotasksOnUIThread.__initData=_worklet_3679683358222_init_data;callMicrotasksOnUIThread.__workletHash=3679683358222;return callMicrotasksOnUIThread;}();var callMicrotasks=exports.callMicrotasks=IS_NATIVE?callMicrotasksOnUIThread:function(){};var _worklet_3381030606720_init_data={code:\"function runOnUI(worklet){const{__DEV__,IS_NATIVE,IS_JEST,NativeReanimatedModule,makeShareableCloneRecursive,callMicrotasks}=this.__closure;if(__DEV__&&IS_NATIVE&&_WORKLET){throw new Error('[Reanimated] `runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&IS_NATIVE&&worklet.__workletHash===undefined){throw new Error('[Reanimated] `runOnUI` can only be used on worklets.');}return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}if(IS_JEST){NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));return;}if(__DEV__){makeShareableCloneRecursive(worklet);makeShareableCloneRecursive(args);}_runOnUIQueue.push([worklet,args]);if(_runOnUIQueue.length===1){queueMicrotask(function(){const queue=_runOnUIQueue;_runOnUIQueue=[];NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';queue.forEach(function(_ref){let[worklet,args]=_ref;worklet(...args);});callMicrotasks();}));});}};}\"};var _worklet_6225829938965_init_data={code:\"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\"};var _worklet_13068487485531_init_data={code:\"function anonymous(){const{queue,callMicrotasks}=this.__closure;queue.forEach(function(_ref){let[worklet,args]=_ref;worklet(...args);});callMicrotasks();}\"};var runOnUI=exports.runOnUI=function(){var runOnUI=function runOnUI(worklet){if(__DEV__&&IS_NATIVE&&_WORKLET){throw new Error('[Reanimated] `runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&IS_NATIVE&&worklet.__workletHash===undefined){throw new Error('[Reanimated] `runOnUI` can only be used on worklets.');}return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}if(IS_JEST){_NativeReanimated.default.scheduleOnUI((0,_shareables.makeShareableCloneRecursive)(function(){var anonymous=function anonymous(){worklet.apply(void 0,args);};anonymous.__closure={worklet:worklet,args:args};anonymous.__initData=_worklet_6225829938965_init_data;anonymous.__workletHash=6225829938965;return anonymous;}()));return;}if(__DEV__){(0,_shareables.makeShareableCloneRecursive)(worklet);(0,_shareables.makeShareableCloneRecursive)(args);}_runOnUIQueue.push([worklet,args]);if(_runOnUIQueue.length===1){queueMicrotask(function(){var queue=_runOnUIQueue;_runOnUIQueue=[];_NativeReanimated.default.scheduleOnUI((0,_shareables.makeShareableCloneRecursive)(function(){var anonymous=function anonymous(){queue.forEach(function(_ref){var _ref2=(0,_slicedToArray2.default)(_ref,2),worklet=_ref2[0],args=_ref2[1];worklet.apply(void 0,(0,_toConsumableArray2.default)(args));});callMicrotasks();};anonymous.__closure={queue:queue,callMicrotasks:callMicrotasks};anonymous.__initData=_worklet_13068487485531_init_data;anonymous.__workletHash=13068487485531;return anonymous;}()));});}};};runOnUI.__closure={__DEV__:__DEV__,IS_NATIVE:IS_NATIVE,IS_JEST:IS_JEST,NativeReanimatedModule:_NativeReanimated.default,makeShareableCloneRecursive:_shareables.makeShareableCloneRecursive,callMicrotasks:callMicrotasks};runOnUI.__initData=_worklet_3381030606720_init_data;runOnUI.__workletHash=3381030606720;return runOnUI;}();var _worklet_1877994504028_init_data={code:\"function runOnUIImmediately(worklet){const{__DEV__,IS_NATIVE,NativeReanimatedModule,makeShareableCloneRecursive}=this.__closure;if(__DEV__&&IS_NATIVE&&_WORKLET){throw new Error('[Reanimated] `runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&IS_NATIVE&&worklet.__workletHash===undefined){throw new Error('[Reanimated] `runOnUIImmediately` can only be used on worklets.');}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}NativeReanimatedModule.scheduleOnUI(makeShareableCloneRecursive(function(){'worklet';worklet(...args);}));};}\"};var _worklet_6225829938965_init_data2={code:\"function anonymous(){const{worklet,args}=this.__closure;worklet(...args);}\"};var runOnUIImmediately=exports.runOnUIImmediately=function(){var runOnUIImmediately=function runOnUIImmediately(worklet){if(__DEV__&&IS_NATIVE&&_WORKLET){throw new Error('[Reanimated] `runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');}if(__DEV__&&IS_NATIVE&&worklet.__workletHash===undefined){throw new Error('[Reanimated] `runOnUIImmediately` can only be used on worklets.');}return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_NativeReanimated.default.scheduleOnUI((0,_shareables.makeShareableCloneRecursive)(function(){var anonymous=function anonymous(){worklet.apply(void 0,args);};anonymous.__closure={worklet:worklet,args:args};anonymous.__initData=_worklet_6225829938965_init_data2;anonymous.__workletHash=6225829938965;return anonymous;}()));};};runOnUIImmediately.__closure={__DEV__:__DEV__,IS_NATIVE:IS_NATIVE,NativeReanimatedModule:_NativeReanimated.default,makeShareableCloneRecursive:_shareables.makeShareableCloneRecursive};runOnUIImmediately.__initData=_worklet_1877994504028_init_data;runOnUIImmediately.__workletHash=1877994504028;return runOnUIImmediately;}();var _worklet_14892326408241_init_data={code:\"function anonymous(){}\"};if(__DEV__&&IS_NATIVE){var f=function(){var anonymous=function anonymous(){};anonymous.__closure={};anonymous.__initData=_worklet_14892326408241_init_data;anonymous.__workletHash=14892326408241;return anonymous;}();if(f.__workletHash===undefined){throw new Error(\"[Reanimated] Failed to create a worklet. See `https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#failed-to-create-a-worklet` for more details.\");}}function runWorkletOnJS(worklet){for(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}worklet.apply(void 0,args);}var _worklet_8544890690940_init_data={code:\"function runOnJS(fun){const runOnJS=this._recur;const{IS_NATIVE,runWorkletOnJS,makeShareableCloneOnUIRecursive}=this.__closure;if(!IS_NATIVE||!_WORKLET){return function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}return queueMicrotask(args.length?function(){return fun(...args);}:fun);};}if(fun.__workletHash){return function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}return runOnJS(runWorkletOnJS)(fun,...args);};}if(fun.__remoteFunction){fun=fun.__remoteFunction;}return function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}_scheduleOnJS(fun,args.length>0?makeShareableCloneOnUIRecursive(args):undefined);};}\"};var runOnJS=exports.runOnJS=function(){var runOnJS=function runOnJS(fun){if(!IS_NATIVE||!_WORKLET){return function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}return queueMicrotask(args.length?function(){return fun.apply(void 0,args);}:fun);};}if(fun.__workletHash){return function(){for(var _len5=arguments.length,args=new Array(_len5),_key5=0;_key5<_len5;_key5++){args[_key5]=arguments[_key5];}return runOnJS(runWorkletOnJS).apply(void 0,[fun].concat(args));};}if(fun.__remoteFunction){fun=fun.__remoteFunction;}return function(){for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}_scheduleOnJS(fun,args.length>0?(0,_shareables.makeShareableCloneOnUIRecursive)(args):undefined);};};runOnJS.__closure={IS_NATIVE:IS_NATIVE,runWorkletOnJS:runWorkletOnJS,makeShareableCloneOnUIRecursive:_shareables.makeShareableCloneOnUIRecursive};runOnJS.__initData=_worklet_8544890690940_init_data;runOnJS.__workletHash=8544890690940;return runOnJS;}();","map":{"version":3,"names":["_NativeReanimated","_interopRequireDefault","require","_PlatformChecker","_shareables","IS_JEST","isJest","IS_NATIVE","shouldBeUseWeb","_runOnUIQueue","_worklet_14171424909649_init_data","code","setupMicrotasks","exports","microtasksQueue","isExecutingMicrotasksQueue","global","queueMicrotask","callback","push","__callMicrotasks","index","length","_maybeFlushUIUpdatesQueue","__closure","__initData","__workletHash","_worklet_3679683358222_init_data","callMicrotasksOnUIThread","callMicrotasks","_worklet_3381030606720_init_data","_worklet_6225829938965_init_data","_worklet_13068487485531_init_data","runOnUI","worklet","__DEV__","_WORKLET","Error","undefined","_len","arguments","args","Array","_key","NativeReanimatedModule","scheduleOnUI","makeShareableCloneRecursive","anonymous","apply","queue","forEach","_ref","_ref2","_slicedToArray2","default","_toConsumableArray2","_worklet_1877994504028_init_data","_worklet_6225829938965_init_data2","runOnUIImmediately","_len2","_key2","_worklet_14892326408241_init_data","f","runWorkletOnJS","_len3","_key3","_worklet_8544890690940_init_data","runOnJS","fun","_len4","_key4","_len5","_key5","concat","__remoteFunction","_len6","_key6","_scheduleOnJS","makeShareableCloneOnUIRecursive"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/threads.ts"],"sourcesContent":["import NativeReanimatedModule from './NativeReanimated';\nimport { isJest, shouldBeUseWeb } from './PlatformChecker';\nimport type { WorkletFunction } from './commonTypes';\nimport {\n  makeShareableCloneOnUIRecursive,\n  makeShareableCloneRecursive,\n} from './shareables';\n\nconst IS_JEST = isJest();\nconst IS_NATIVE = !shouldBeUseWeb();\n\n/**\n * An array of [worklet, args] pairs.\n * */\nlet _runOnUIQueue: Array<[WorkletFunction<unknown[], unknown>, unknown[]]> = [];\n\nexport function setupMicrotasks() {\n  'worklet';\n\n  let microtasksQueue: Array<() => void> = [];\n  let isExecutingMicrotasksQueue = false;\n  global.queueMicrotask = (callback: () => void) => {\n    microtasksQueue.push(callback);\n  };\n\n  global.__callMicrotasks = () => {\n    if (isExecutingMicrotasksQueue) {\n      return;\n    }\n    try {\n      isExecutingMicrotasksQueue = true;\n      for (let index = 0; index < microtasksQueue.length; index += 1) {\n        // we use classic 'for' loop because the size of the currentTasks array may change while executing some of the callbacks due to queueMicrotask calls\n        microtasksQueue[index]();\n      }\n      microtasksQueue = [];\n      global._maybeFlushUIUpdatesQueue();\n    } finally {\n      isExecutingMicrotasksQueue = false;\n    }\n  };\n}\n\nfunction callMicrotasksOnUIThread() {\n  'worklet';\n  global.__callMicrotasks();\n}\n\nexport const callMicrotasks = IS_NATIVE\n  ? callMicrotasksOnUIThread\n  : () => {\n      // on web flushing is a noop as immediates are handled by the browser\n    };\n\n// @ts-expect-error This overload is correct since it's what user sees in his code\n// before it's transformed by Reanimated Babel plugin.\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): (...args: Args) => void;\n/**\n * Schedule a worklet to execute on the UI runtime. This method does not schedule the work immediately but instead\n * waits for other worklets to be scheduled within the same JS loop. It uses queueMicrotask to schedule all the worklets\n * at once making sure they will run within the same frame boundaries on the UI thread.\n */\nexport function runOnUI<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && IS_NATIVE && _WORKLET) {\n    throw new Error(\n      '[Reanimated] `runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && IS_NATIVE && worklet.__workletHash === undefined) {\n    throw new Error('[Reanimated] `runOnUI` can only be used on worklets.');\n  }\n  return (...args) => {\n    if (IS_JEST) {\n      // Mocking time in Jest is tricky as both requestAnimationFrame and queueMicrotask\n      // callbacks run on the same queue and can be interleaved. There is no way\n      // to flush particular queue in Jest and the only control over mocked timers\n      // is by using jest.advanceTimersByTime() method which advances all types\n      // of timers including immediate and animation callbacks. Ideally we'd like\n      // to have some way here to schedule work along with React updates, but\n      // that's not possible, and hence in Jest environment instead of using scheduling\n      // mechanism we just schedule the work ommiting the queue. This is ok for the\n      // uses that we currently have but may not be ok for future tests that we write.\n      NativeReanimatedModule.scheduleOnUI(\n        makeShareableCloneRecursive(() => {\n          'worklet';\n          worklet(...args);\n        })\n      );\n      return;\n    }\n    if (__DEV__) {\n      // in DEV mode we call shareable conversion here because in case the object\n      // can't be converted, we will get a meaningful stack-trace as opposed to the\n      // situation when conversion is only done via microtask queue. This does not\n      // make the app particularily less efficient as converted objects are cached\n      // and for a given worklet the conversion only happens once.\n      makeShareableCloneRecursive(worklet);\n      makeShareableCloneRecursive(args);\n    }\n    //\n    _runOnUIQueue.push([worklet as WorkletFunction<unknown[], unknown>, args]);\n    if (_runOnUIQueue.length === 1) {\n      queueMicrotask(() => {\n        const queue = _runOnUIQueue;\n        _runOnUIQueue = [];\n        NativeReanimatedModule.scheduleOnUI(\n          makeShareableCloneRecursive(() => {\n            'worklet';\n            queue.forEach(([worklet, args]) => {\n              worklet(...args);\n            });\n            callMicrotasks();\n          })\n        );\n      });\n    }\n  };\n}\n\n// @ts-expect-error Check `runOnUI` overload above.\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: (...args: Args) => ReturnValue\n): WorkletFunction<Args, ReturnValue>;\n/**\n * Schedule a worklet to execute on the UI runtime skipping batching mechanism.\n */\nexport function runOnUIImmediately<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  if (__DEV__ && IS_NATIVE && _WORKLET) {\n    throw new Error(\n      '[Reanimated] `runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.'\n    );\n  }\n  if (__DEV__ && IS_NATIVE && worklet.__workletHash === undefined) {\n    throw new Error(\n      '[Reanimated] `runOnUIImmediately` can only be used on worklets.'\n    );\n  }\n  return (...args) => {\n    NativeReanimatedModule.scheduleOnUI(\n      makeShareableCloneRecursive(() => {\n        'worklet';\n        worklet(...args);\n      })\n    );\n  };\n}\n\nif (__DEV__ && IS_NATIVE) {\n  const f = (() => {\n    'worklet';\n  }) as WorkletFunction<[], void>;\n  if (f.__workletHash === undefined) {\n    throw new Error(\n      `[Reanimated] Failed to create a worklet. See \\`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#failed-to-create-a-worklet\\` for more details.`\n    );\n  }\n}\n\ntype ReleaseRemoteFunction<Args extends unknown[], ReturnValue> = {\n  (...args: Args): ReturnValue;\n};\n\ntype DevRemoteFunction<Args extends unknown[], ReturnValue> = {\n  __remoteFunction: (...args: Args) => ReturnValue;\n};\n\ntype RemoteFunction<Args extends unknown[], ReturnValue> =\n  | ReleaseRemoteFunction<Args, ReturnValue>\n  | DevRemoteFunction<Args, ReturnValue>;\n\nfunction runWorkletOnJS<Args extends unknown[], ReturnValue>(\n  worklet: WorkletFunction<Args, ReturnValue>,\n  ...args: Args\n): void {\n  // remote function that calls a worklet synchronously on the JS runtime\n  worklet(...args);\n}\n\n/**\n * Returns a function that can be called to be executed asynchronously on both\n * UI and JS threads.\n */\nexport function runOnJS<Args extends unknown[], ReturnValue>(\n  fun:\n    | ((...args: Args) => ReturnValue)\n    | RemoteFunction<Args, ReturnValue>\n    | WorkletFunction<Args, ReturnValue>\n): (...args: Args) => void {\n  'worklet';\n  type FunWorklet = Extract<typeof fun, WorkletFunction<Args, ReturnValue>>;\n  type FunDevRemote = Extract<typeof fun, DevRemoteFunction<Args, ReturnValue>>;\n  if (!IS_NATIVE || !_WORKLET) {\n    // if we are already on the JS thread, we just schedule the worklet on the JS queue\n    return (...args) =>\n      queueMicrotask(\n        args.length\n          ? () => (fun as (...args: Args) => ReturnValue)(...args)\n          : (fun as () => ReturnValue)\n      );\n  }\n  if ((fun as FunWorklet).__workletHash) {\n    // If `fun` is a worklet, we schedule a call of a remote function `runWorkletOnJS`\n    // and pass the worklet as a first argument followed by original arguments.\n\n    return (...args) =>\n      runOnJS(runWorkletOnJS<Args, ReturnValue>)(\n        fun as WorkletFunction<Args, ReturnValue>,\n        ...args\n      );\n  }\n  if ((fun as FunDevRemote).__remoteFunction) {\n    // In development mode the function provided as `fun` throws an error message\n    // such that when someone accidentally calls it directly on the UI runtime, they\n    // see that they should use `runOnJS` instead. To facilitate that we put the\n    // reference to the original remote function in the `__functionInDEV` property.\n    fun = (fun as FunDevRemote).__remoteFunction;\n  }\n  return (...args) => {\n    _scheduleOnJS(\n      fun as\n        | ((...args: Args) => ReturnValue)\n        | WorkletFunction<Args, ReturnValue>,\n      args.length > 0\n        ? // TODO TYPESCRIPT this cast is terrible but will be fixed\n          (makeShareableCloneOnUIRecursive(args) as unknown as unknown[])\n        : undefined\n    );\n  };\n}\n"],"mappings":"6bAAA,IAAAA,iBAAA,CAAAC,sBAAA,CAAAC,OAAA,wBACA,IAAAC,gBAAA,CAAAD,OAAA,sBAEA,IAAAE,WAAA,CAAAF,OAAA,iBAKA,GAAM,CAAAG,OAAO,CAAG,GAAAC,uBAAM,GAAE,CACxB,GAAM,CAAAC,SAAS,CAAG,CAAC,GAAAC,+BAAc,GAAE,CAKnC,GAAI,CAAAC,aAAsE,CAAG,EAAE,KAAAC,iCAAA,EAAAC,IAAA,4cAE/D,CAAAC,eAAe,CAAAC,OAAA,CAAAD,eAAA,gBAAAA,eAAA,UAAAA,gBAAA,CAAG,CAGhC,GAAI,CAAAE,eAAkC,CAAG,EAAE,CAC3C,GAAI,CAAAC,0BAA0B,CAAG,KAAK,CACtCC,MAAM,CAACC,cAAc,CAAI,SAAAC,QAAoB,CAAK,CAChDJ,eAAe,CAACK,IAAI,CAACD,QAAQ,CAAC,CAChC,CAAC,CAEDF,MAAM,CAACI,gBAAgB,CAAG,UAAM,CAC9B,GAAIL,0BAA0B,CAAE,CAC9B,OACF,CACA,GAAI,CACFA,0BAA0B,CAAG,IAAI,CACjC,IAAK,GAAI,CAAAM,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGP,eAAe,CAACQ,MAAM,CAAED,KAAK,EAAI,CAAC,CAAE,CAE9DP,eAAe,CAACO,KAAK,CAAC,EAAE,CAC1B,CACAP,eAAe,CAAG,EAAE,CACpBE,MAAM,CAACO,yBAAyB,EAAE,CACpC,CAAC,OAAS,CACRR,0BAA0B,CAAG,KAAK,CACpC,CACF,CAAC,CACH,EAAAH,eAAA,CAAAY,SAAA,IAAAZ,eAAA,CAAAa,UAAA,CAAAf,iCAAA,CAAAE,eAAA,CAAAc,aAAA,uBAAAd,eAAA,SAAAe,gCAAA,EAAAhB,IAAA,uEAES,CAAAiB,wBAAwB,gBAAAA,wBAAA,UAAAA,yBAAA,CAAG,CAElCZ,MAAM,CAACI,gBAAgB,EAAE,CAC3B,EAAAQ,wBAAA,CAAAJ,SAAA,IAAAI,wBAAA,CAAAH,UAAA,CAAAE,gCAAA,CAAAC,wBAAA,CAAAF,aAAA,sBAAAE,wBAAA,KAEO,GAAM,CAAAC,cAAc,CAAAhB,OAAA,CAAAgB,cAAA,CAAGtB,SAAS,CACnCqB,wBAAwB,CACxB,UAAM,CACJ,CACD,KAAAE,gCAAA,EAAAnB,IAAA,qnCAAAoB,gCAAA,EAAApB,IAAA,mFAAAqB,iCAAA,EAAArB,IAAA,kKAYW,CAAAsB,OAAO,CAAApB,OAAA,CAAAoB,OAAA,gBAAAA,OAAA,UAAAA,QACrBC,OAA2C,CAClB,CAEzB,GAAIC,OAAO,EAAI5B,SAAS,EAAI6B,QAAQ,CAAE,CACpC,KAAM,IAAI,CAAAC,KAAK,CACb,+JAA+J,CAChK,CACH,CACA,GAAIF,OAAO,EAAI5B,SAAS,EAAI2B,OAAO,CAACR,aAAa,GAAKY,SAAS,CAAE,CAC/D,KAAM,IAAI,CAAAD,KAAK,CAAC,sDAAsD,CAAC,CACzE,CACA,MAAO,WAAa,SAAAE,IAAA,CAAAC,SAAA,CAAAlB,MAAA,CAATmB,IAAI,KAAAC,KAAA,CAAAH,IAAA,EAAAI,IAAA,GAAAA,IAAA,CAAAJ,IAAA,CAAAI,IAAA,IAAJF,IAAI,CAAAE,IAAA,EAAAH,SAAA,CAAAG,IAAA,GACb,GAAItC,OAAO,CAAE,CAUXuC,yBAAsB,CAACC,YAAY,CACjC,GAAAC,uCAA2B,iBAAAC,SAAA,UAAAA,UAAA,CAAO,CAEhCb,OAAO,CAAAc,KAAA,QAAIP,IAAI,CAAC,CAClB,CAAC,CAAAM,SAAA,CAAAvB,SAAA,EAAAU,OAAA,CA1FTA,OAAS,CAAAO,IAAA,CAAAA,IAAQ,EAAAM,SAAA,CAAAtB,UAAA,CAAAM,gCAAA,CAAAgB,SAAA,CAAArB,aAAA,sBAAAqB,SAAA,IA0FR,CAAC,CACH,CACD,OACF,CACA,GAAIZ,OAAO,CAAE,CAMX,GAAAW,uCAA2B,EAACZ,OAAO,CAAC,CACpC,GAAAY,uCAA2B,EAACL,IAAI,CAAC,CACnC,CAEAhC,aAAa,CAACU,IAAI,CAAC,CAACe,OAAO,CAAyCO,IAAI,CAAC,CAAC,CAC1E,GAAIhC,aAAa,CAACa,MAAM,GAAK,CAAC,CAAE,CAC9BL,cAAc,CAAC,UAAM,CACnB,GAAM,CAAAgC,KAAK,CAAGxC,aAAa,CAC3BA,aAAa,CAAG,EAAE,CAClBmC,yBAAsB,CAACC,YAAY,CACjC,GAAAC,uCAA2B,iBAAAC,SAAA,UAAAA,UAAA,CAAO,CAEhCE,KAAK,CAACC,OAAO,CAAC,SAAAC,IAAA,CAAqB,KAAAC,KAAA,IAAAC,eAAA,CAAAC,OAAA,EAALH,IAAA,IAAdjB,OAAO,CAAAkB,KAAA,IAAEX,IAAI,CAAAW,KAAA,IAC3BlB,OAAO,CAAAc,KAAA,WAAAO,mBAAA,CAAAD,OAAA,EAAIb,IAAI,EAAC,CAClB,CAAC,CAAC,CACFZ,cAAc,EAAE,CAClB,CAAC,CAAAkB,SAAA,CAAAvB,SAAA,EAAAyB,KAAA,CApHXA,KAAA,CAAApB,cAAA,C,kIAoHW,CAAC,CACH,CACH,CAAC,CAAC,CACJ,CACF,CAAC,CACH,EAAAI,OAAA,CAAAT,SAAA,EAAAW,OAAA,CAvFMA,OAAA,CAAA5B,SAAA,CA1BSA,SAAI,CAAAF,OAAA,CAQjBA,OAAS,CAAAuC,sBAAA,C,6GA8CXf,cAAA,EAAAI,OAAA,CAAAR,UAAA,CAAAK,gCAAA,CAAAG,OAAA,CAAAP,aAAA,sBAAAO,OAAA,SAAAuB,gCAAA,EAAA7C,IAAA,ouBAAA8C,iCAAA,EAAA9C,IAAA,kFAoEgB,CAAA+C,kBAAkB,CAAA7C,OAAA,CAAA6C,kBAAA,gBAAAA,kBAAA,UAAAA,mBAChCxB,OAA2C,CAClB,CAEzB,GAAIC,OAAO,EAAI5B,SAAS,EAAI6B,QAAQ,CAAE,CACpC,KAAM,IAAI,CAAAC,KAAK,CACb,0KAA0K,CAC3K,CACH,CACA,GAAIF,OAAO,EAAI5B,SAAS,EAAI2B,OAAO,CAACR,aAAa,GAAKY,SAAS,CAAE,CAC/D,KAAM,IAAI,CAAAD,KAAK,CACb,iEAAiE,CAClE,CACH,CACA,MAAO,WAAa,SAAAsB,KAAA,CAAAnB,SAAA,CAAAlB,MAAA,CAATmB,IAAI,KAAAC,KAAA,CAAAiB,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAJnB,IAAI,CAAAmB,KAAA,EAAApB,SAAA,CAAAoB,KAAA,GACbhB,yBAAsB,CAACC,YAAY,CACjC,GAAAC,uCAA2B,iBAAAC,SAAA,UAAAA,UAAA,CAAO,CAEhCb,OAAO,CAAAc,KAAA,QAAIP,IAAI,CAAC,CAClB,CAAC,CAAAM,SAAA,CAAAvB,SAAA,EAAAU,OAAA,CArJPA,OAAS,CAAAO,IAAA,CAAAA,IAAQ,EAAAM,SAAA,CAAAtB,UAAA,CAAAgC,iCAAA,CAAAV,SAAA,CAAArB,aAAA,sBAAAqB,SAAA,IAqJV,CAAC,CACH,CACH,CAAC,CACH,EAAAW,kBAAA,CAAAlC,SAAA,EAAAW,OAAA,CAhJMA,OAAA,CAAA5B,SAAA,CAASA,SAAI,CAAAqC,sBAAA,CAQjBA,yBAAS,CAAAE,2BAAA,CAAAA,uCAAA,EAAAY,kBAAA,CAAAjC,UAAA,CAAA+B,gCAAA,CAAAE,kBAAA,CAAAhC,aAAA,sBAAAgC,kBAAA,SAAAG,iCAAA,EAAAlD,IAAA,2BA0IX,GAAIwB,OAAO,EAAI5B,SAAS,CAAE,CACxB,GAAM,CAAAuD,CAAC,gBAAAf,SAAA,UAAAA,UAAA,CAAU,CAEjB,CAA+B,CAAAA,SAAA,CAAAvB,SAAA,IAAAuB,SAAA,CAAAtB,UAAA,CAAAoC,iCAAA,CAAAd,SAAA,CAAArB,aAAA,uBAAAqB,SAAA,KAC/B,GAAIe,CAAC,CAACpC,aAAa,GAAKY,SAAS,CAAE,CACjC,KAAM,IAAI,CAAAD,KAAK,6KACiK,CAC/K,CACH,CACF,CAcA,QAAS,CAAA0B,cAAcA,CACrB7B,OAA2C,CAErC,SAAA8B,KAAA,CAAAxB,SAAA,CAAAlB,MAAA,CADHmB,IAAI,KAAAC,KAAA,CAAAsB,KAAA,GAAAA,KAAA,MAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAJxB,IAAI,CAAAwB,KAAA,IAAAzB,SAAA,CAAAyB,KAAA,GAGP/B,OAAO,CAAAc,KAAA,QAAIP,IAAI,CAAC,CAClB,KAAAyB,gCAAA,EAAAvD,IAAA,8zBAMgB,CAAAwD,OAAO,CAAAtD,OAAA,CAAAsD,OAAA,gBAAAA,OAAA,UAAAA,QACrBC,GAGsC,CACb,CAIzB,GAAI,CAAC7D,SAAS,EAAI,CAAC6B,QAAQ,CAAE,CAE3B,MAAO,oBAAAiC,KAAA,CAAA7B,SAAA,CAAAlB,MAAA,CAAImB,IAAI,KAAAC,KAAA,CAAA2B,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAJ7B,IAAI,CAAA6B,KAAA,EAAA9B,SAAA,CAAA8B,KAAA,SACb,CAAArD,cAAc,CACZwB,IAAI,CAACnB,MAAM,CACP,iBAAO,CAAA8C,GAAG,CAAApB,KAAA,QAAuCP,IAAI,CAAC,GACrD2B,GAAyB,CAC/B,GACL,CACA,GAAKA,GAAG,CAAgB1C,aAAa,CAAE,CAIrC,MAAO,oBAAA6C,KAAA,CAAA/B,SAAA,CAAAlB,MAAA,CAAImB,IAAI,KAAAC,KAAA,CAAA6B,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAJ/B,IAAI,CAAA+B,KAAA,EAAAhC,SAAA,CAAAgC,KAAA,SACb,CAAAL,OAAO,CAACJ,cAAc,CAAoB,CAAAf,KAAA,SACxCoB,GAAG,EAAAK,MAAA,CACAhC,IAAI,EACR,GACL,CACA,GAAK2B,GAAG,CAAkBM,gBAAgB,CAAE,CAK1CN,GAAG,CAAIA,GAAG,CAAkBM,gBAAgB,CAC9C,CACA,MAAO,WAAa,SAAAC,KAAA,CAAAnC,SAAA,CAAAlB,MAAA,CAATmB,IAAI,KAAAC,KAAA,CAAAiC,KAAA,EAAAC,KAAA,GAAAA,KAAA,CAAAD,KAAA,CAAAC,KAAA,IAAJnC,IAAI,CAAAmC,KAAA,EAAApC,SAAA,CAAAoC,KAAA,GACbC,aAAa,CACXT,GAAG,CAGH3B,IAAI,CAACnB,MAAM,CAAG,CAAC,CAEV,GAAAwD,2CAA+B,EAACrC,IAAI,CAAC,CACtCH,SAAS,CACd,CACH,CAAC,CACH,EAAA6B,OAAA,CAAA3C,SAAA,EAAAjB,SAAA,CA3OAA,SAAe,CAAAwD,cAAA,CAwBNA,cAAyB,CAAAe,+BAAA,CAgBlCA,2CAAA,EAAAX,OAAA,CAAA1C,UAAA,CAAAyC,gCAAA,CAAAC,OAAA,CAAAzC,aAAA,sBAAAyC,OAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}