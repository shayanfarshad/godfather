{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _react=_interopRequireWildcard(require(\"react\"));var _reactNativeReanimated=require(\"react-native-reanimated\");var _portal=require(\"@gorhom/portal\");var _contexts=require(\"../../contexts\");var _bottomSheetContainer=_interopRequireDefault(require(\"../bottomSheetContainer\"));var _constants=require(\"../../constants\");var _constants2=require(\"../bottomSheet/constants\");function _getRequireWildcardCache(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(\"default\"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var BottomSheetModalProviderWrapper=function BottomSheetModalProviderWrapper(_ref){var children=_ref.children;var animatedContainerHeight=(0,_reactNativeReanimated.useSharedValue)(_constants2.INITIAL_CONTAINER_HEIGHT);var animatedContainerOffset=(0,_reactNativeReanimated.useSharedValue)(_constants2.INITIAL_CONTAINER_OFFSET);var sheetsQueueRef=(0,_react.useRef)([]);var handleMountSheet=(0,_react.useCallback)(function(key,ref,stackBehavior){var _sheetsQueue=sheetsQueueRef.current.slice();var sheetIndex=_sheetsQueue.findIndex(function(item){return item.key===key;});var sheetOnTop=sheetIndex===_sheetsQueue.length-1;if(sheetIndex!==-1&&sheetOnTop){return;}var currentMountedSheet=_sheetsQueue[_sheetsQueue.length-1];if(currentMountedSheet&&!currentMountedSheet.willUnmount&&stackBehavior===_constants.MODAL_STACK_BEHAVIOR.replace){var _currentMountedSheet$,_currentMountedSheet$2;(_currentMountedSheet$=currentMountedSheet.ref)===null||_currentMountedSheet$===void 0?void 0:(_currentMountedSheet$2=_currentMountedSheet$.current)===null||_currentMountedSheet$2===void 0?void 0:_currentMountedSheet$2.minimize();}if(sheetIndex!==-1){var _ref$current;_sheetsQueue.splice(sheetIndex,1);ref===null||ref===void 0?void 0:(_ref$current=ref.current)===null||_ref$current===void 0?void 0:_ref$current.restore();}_sheetsQueue.push({key:key,ref:ref,willUnmount:false});sheetsQueueRef.current=_sheetsQueue;},[]);var handleUnmountSheet=(0,_react.useCallback)(function(key){var _sheetsQueue=sheetsQueueRef.current.slice();var sheetIndex=_sheetsQueue.findIndex(function(item){return item.key===key;});var sheetOnTop=sheetIndex===_sheetsQueue.length-1;_sheetsQueue.splice(sheetIndex,1);sheetsQueueRef.current=_sheetsQueue;var hasMinimizedSheet=sheetsQueueRef.current.length>0;var minimizedSheet=sheetsQueueRef.current[sheetsQueueRef.current.length-1];if(sheetOnTop&&hasMinimizedSheet&&minimizedSheet&&!minimizedSheet.willUnmount){var _sheetsQueueRef$curre,_sheetsQueueRef$curre2;(_sheetsQueueRef$curre=sheetsQueueRef.current[sheetsQueueRef.current.length-1].ref)===null||_sheetsQueueRef$curre===void 0?void 0:(_sheetsQueueRef$curre2=_sheetsQueueRef$curre.current)===null||_sheetsQueueRef$curre2===void 0?void 0:_sheetsQueueRef$curre2.restore();}},[]);var handleWillUnmountSheet=(0,_react.useCallback)(function(key){var _sheetsQueue=sheetsQueueRef.current.slice();var sheetIndex=_sheetsQueue.findIndex(function(item){return item.key===key;});var sheetOnTop=sheetIndex===_sheetsQueue.length-1;if(sheetIndex!==-1){_sheetsQueue[sheetIndex].willUnmount=true;}var hasMinimizedSheet=_sheetsQueue.length>1;if(sheetOnTop&&hasMinimizedSheet){var _sheetsQueue$ref,_sheetsQueue$ref$curr;(_sheetsQueue$ref=_sheetsQueue[_sheetsQueue.length-2].ref)===null||_sheetsQueue$ref===void 0?void 0:(_sheetsQueue$ref$curr=_sheetsQueue$ref.current)===null||_sheetsQueue$ref$curr===void 0?void 0:_sheetsQueue$ref$curr.restore();}sheetsQueueRef.current=_sheetsQueue;},[]);var handleDismiss=(0,_react.useCallback)(function(key){var sheetToBeDismissed=key?sheetsQueueRef.current.find(function(item){return item.key===key;}):sheetsQueueRef.current[sheetsQueueRef.current.length-1];if(sheetToBeDismissed){var _sheetToBeDismissed$r,_sheetToBeDismissed$r2;(_sheetToBeDismissed$r=sheetToBeDismissed.ref)===null||_sheetToBeDismissed$r===void 0?void 0:(_sheetToBeDismissed$r2=_sheetToBeDismissed$r.current)===null||_sheetToBeDismissed$r2===void 0?void 0:_sheetToBeDismissed$r2.dismiss();return true;}return false;},[]);var handleDismissAll=(0,_react.useCallback)(function(){sheetsQueueRef.current.map(function(item){var _item$ref,_item$ref$current;(_item$ref=item.ref)===null||_item$ref===void 0?void 0:(_item$ref$current=_item$ref.current)===null||_item$ref$current===void 0?void 0:_item$ref$current.dismiss();});},[]);var externalContextVariables=(0,_react.useMemo)(function(){return{dismiss:handleDismiss,dismissAll:handleDismissAll};},[handleDismiss,handleDismissAll]);var internalContextVariables=(0,_react.useMemo)(function(){return{containerHeight:animatedContainerHeight,containerOffset:animatedContainerOffset,mountSheet:handleMountSheet,unmountSheet:handleUnmountSheet,willUnmountSheet:handleWillUnmountSheet};},[animatedContainerHeight,animatedContainerOffset,handleMountSheet,handleUnmountSheet,handleWillUnmountSheet]);return _react.default.createElement(_contexts.BottomSheetModalProvider,{value:externalContextVariables},_react.default.createElement(_contexts.BottomSheetModalInternalProvider,{value:internalContextVariables},_react.default.createElement(_bottomSheetContainer.default,{containerOffset:animatedContainerOffset,containerHeight:animatedContainerHeight,children:null}),_react.default.createElement(_portal.PortalProvider,null,children)));};var _default=exports.default=BottomSheetModalProviderWrapper;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_portal","_contexts","_bottomSheetContainer","_interopRequireDefault","_constants","_constants2","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","BottomSheetModalProviderWrapper","_ref","children","animatedContainerHeight","useSharedValue","INITIAL_CONTAINER_HEIGHT","animatedContainerOffset","INITIAL_CONTAINER_OFFSET","sheetsQueueRef","useRef","handleMountSheet","useCallback","key","ref","stackBehavior","_sheetsQueue","current","slice","sheetIndex","findIndex","item","sheetOnTop","length","currentMountedSheet","willUnmount","MODAL_STACK_BEHAVIOR","replace","_currentMountedSheet$","_currentMountedSheet$2","minimize","_ref$current","splice","restore","push","handleUnmountSheet","hasMinimizedSheet","minimizedSheet","_sheetsQueueRef$curre","_sheetsQueueRef$curre2","handleWillUnmountSheet","_sheetsQueue$ref","_sheetsQueue$ref$curr","handleDismiss","sheetToBeDismissed","find","_sheetToBeDismissed$r","_sheetToBeDismissed$r2","dismiss","handleDismissAll","map","_item$ref","_item$ref$current","externalContextVariables","useMemo","dismissAll","internalContextVariables","containerHeight","containerOffset","mountSheet","unmountSheet","willUnmountSheet","React","createElement","BottomSheetModalProvider","value","BottomSheetModalInternalProvider","BottomSheetContainer","PortalProvider","_default","exports"],"sources":["/Users/shayan/workspace/godfather/node_modules/@gorhom/bottom-sheet/lib/module/components/bottomSheetModalProvider/BottomSheetModalProvider.tsx"],"sourcesContent":["import React, { useCallback, useMemo, useRef } from 'react';\nimport { useSharedValue } from 'react-native-reanimated';\nimport { PortalProvider } from '@gorhom/portal';\nimport {\n  BottomSheetModalProvider,\n  BottomSheetModalInternalProvider,\n} from '../../contexts';\nimport BottomSheetContainer from '../bottomSheetContainer';\nimport { MODAL_STACK_BEHAVIOR } from '../../constants';\nimport {\n  INITIAL_CONTAINER_HEIGHT,\n  INITIAL_CONTAINER_OFFSET,\n} from '../bottomSheet/constants';\nimport type { BottomSheetModalStackBehavior } from '../bottomSheetModal';\nimport type {\n  BottomSheetModalProviderProps,\n  BottomSheetModalRef,\n} from './types';\n\nconst BottomSheetModalProviderWrapper = ({\n  children,\n}: BottomSheetModalProviderProps) => {\n  //#region layout variables\n  const animatedContainerHeight = useSharedValue(INITIAL_CONTAINER_HEIGHT);\n  const animatedContainerOffset = useSharedValue(INITIAL_CONTAINER_OFFSET);\n  //#endregion\n\n  //#region variables\n  const sheetsQueueRef = useRef<BottomSheetModalRef[]>([]);\n  //#endregion\n\n  //#region private methods\n  const handleMountSheet = useCallback(\n    (key: string, ref: any, stackBehavior: BottomSheetModalStackBehavior) => {\n      const _sheetsQueue = sheetsQueueRef.current.slice();\n      const sheetIndex = _sheetsQueue.findIndex(item => item.key === key);\n      const sheetOnTop = sheetIndex === _sheetsQueue.length - 1;\n\n      /**\n       * Exit the method, if sheet is already presented\n       * and at the top.\n       */\n      if (sheetIndex !== -1 && sheetOnTop) {\n        return;\n      }\n\n      /**\n       * Minimize the current sheet if:\n       * - it exists.\n       * - it is not unmounting.\n       * - stack behavior is 'replace'.\n       */\n      const currentMountedSheet = _sheetsQueue[_sheetsQueue.length - 1];\n      if (\n        currentMountedSheet &&\n        !currentMountedSheet.willUnmount &&\n        stackBehavior === MODAL_STACK_BEHAVIOR.replace\n      ) {\n        currentMountedSheet.ref?.current?.minimize();\n      }\n\n      /**\n       * Restore and remove incoming sheet from the queue,\n       * if it was registered.\n       */\n      if (sheetIndex !== -1) {\n        _sheetsQueue.splice(sheetIndex, 1);\n        ref?.current?.restore();\n      }\n\n      _sheetsQueue.push({\n        key,\n        ref,\n        willUnmount: false,\n      });\n      sheetsQueueRef.current = _sheetsQueue;\n    },\n    []\n  );\n  const handleUnmountSheet = useCallback((key: string) => {\n    const _sheetsQueue = sheetsQueueRef.current.slice();\n    const sheetIndex = _sheetsQueue.findIndex(item => item.key === key);\n    const sheetOnTop = sheetIndex === _sheetsQueue.length - 1;\n\n    /**\n     * Here we remove the unmounted sheet and update\n     * the sheets queue.\n     */\n    _sheetsQueue.splice(sheetIndex, 1);\n    sheetsQueueRef.current = _sheetsQueue;\n\n    /**\n     * Here we try to restore previous sheet position if unmounted\n     * sheet was on top. This is needed when user dismiss\n     * the modal by panning down.\n     */\n    const hasMinimizedSheet = sheetsQueueRef.current.length > 0;\n    const minimizedSheet =\n      sheetsQueueRef.current[sheetsQueueRef.current.length - 1];\n    if (\n      sheetOnTop &&\n      hasMinimizedSheet &&\n      minimizedSheet &&\n      !minimizedSheet.willUnmount\n    ) {\n      sheetsQueueRef.current[\n        sheetsQueueRef.current.length - 1\n      ].ref?.current?.restore();\n    }\n  }, []);\n  const handleWillUnmountSheet = useCallback((key: string) => {\n    const _sheetsQueue = sheetsQueueRef.current.slice();\n    const sheetIndex = _sheetsQueue.findIndex(item => item.key === key);\n    const sheetOnTop = sheetIndex === _sheetsQueue.length - 1;\n\n    /**\n     * Here we mark the sheet that will unmount,\n     * so it won't be restored.\n     */\n    if (sheetIndex !== -1) {\n      _sheetsQueue[sheetIndex].willUnmount = true;\n    }\n\n    /**\n     * Here we try to restore previous sheet position,\n     * This is needed when user dismiss the modal by fire the dismiss action.\n     */\n    const hasMinimizedSheet = _sheetsQueue.length > 1;\n    if (sheetOnTop && hasMinimizedSheet) {\n      _sheetsQueue[_sheetsQueue.length - 2].ref?.current?.restore();\n    }\n\n    sheetsQueueRef.current = _sheetsQueue;\n  }, []);\n  //#endregion\n\n  //#region public methods\n  const handleDismiss = useCallback((key?: string) => {\n    const sheetToBeDismissed = key\n      ? sheetsQueueRef.current.find(item => item.key === key)\n      : sheetsQueueRef.current[sheetsQueueRef.current.length - 1];\n    if (sheetToBeDismissed) {\n      sheetToBeDismissed.ref?.current?.dismiss();\n      return true;\n    }\n    return false;\n  }, []);\n  const handleDismissAll = useCallback(() => {\n    sheetsQueueRef.current.map(item => {\n      item.ref?.current?.dismiss();\n    });\n  }, []);\n  //#endregion\n\n  //#region context variables\n  const externalContextVariables = useMemo(\n    () => ({\n      dismiss: handleDismiss,\n      dismissAll: handleDismissAll,\n    }),\n    [handleDismiss, handleDismissAll]\n  );\n  const internalContextVariables = useMemo(\n    () => ({\n      containerHeight: animatedContainerHeight,\n      containerOffset: animatedContainerOffset,\n      mountSheet: handleMountSheet,\n      unmountSheet: handleUnmountSheet,\n      willUnmountSheet: handleWillUnmountSheet,\n    }),\n    [\n      animatedContainerHeight,\n      animatedContainerOffset,\n      handleMountSheet,\n      handleUnmountSheet,\n      handleWillUnmountSheet,\n    ]\n  );\n  //#endregion\n\n  //#region renders\n  return (\n    <BottomSheetModalProvider value={externalContextVariables}>\n      <BottomSheetModalInternalProvider value={internalContextVariables}>\n        <BottomSheetContainer\n          containerOffset={animatedContainerOffset}\n          containerHeight={animatedContainerHeight}\n          children={null}\n        />\n        <PortalProvider>{children}</PortalProvider>\n      </BottomSheetModalInternalProvider>\n    </BottomSheetModalProvider>\n  );\n  //#endregion\n};\n\nexport default BottomSheetModalProviderWrapper;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}