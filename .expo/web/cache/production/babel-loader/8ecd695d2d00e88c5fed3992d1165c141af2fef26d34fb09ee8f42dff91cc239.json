{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.dispatchCommand=void 0;exports.getTag=getTag;exports.setGestureState=exports.scrollTo=exports.measure=void 0;var _reactNative=require(\"react-native\");var _PlatformChecker=require(\"./PlatformChecker\");function getTag(view){return(0,_reactNative.findNodeHandle)(view);}var isNative=!(0,_PlatformChecker.shouldBeUseWeb)();var measure;var _worklet_17547697225118_init_data={code:\"function anonymous(animatedRef){if(!_WORKLET){return null;}const viewTag=animatedRef();if(viewTag===-1){console.warn(\\\"[Reanimated] The view with tag \\\"+viewTag+\\\" is not a valid argument for measure(). This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).\\\");return null;}const measured=_measure(viewTag);if(measured===null){console.warn(\\\"[Reanimated] The view with tag \\\"+viewTag+\\\" has some undefined, not-yet-computed or meaningless value of `LayoutMetrics` type. This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).\\\");return null;}else if(measured.x===-1234567){console.warn(\\\"[Reanimated] The view with tag \\\"+viewTag+\\\" returned an invalid measurement response.\\\");return null;}else if(isNaN(measured.x)){console.warn(\\\"[Reanimated] The view with tag \\\"+viewTag+\\\" gets view-flattened on Android. To disable view-flattening, set `collapsable={false}` on this component.\\\");return null;}else{return measured;}}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/NativeMethods.js\"};if((0,_PlatformChecker.isWeb)()){exports.measure=measure=function measure(animatedRef){var element=animatedRef();var viewportOffset=element.getBoundingClientRect();return{width:element.offsetWidth,height:element.offsetHeight,x:element.offsetLeft,y:element.offsetTop,pageX:viewportOffset.left,pageY:viewportOffset.top};};}else if((0,_PlatformChecker.isChromeDebugger)()){exports.measure=measure=function measure(_animatedRef){console.warn('[Reanimated] measure() cannot be used with Chrome Debugger.');return null;};}else{exports.measure=measure=function(){var _f=function _f(animatedRef){if(!_WORKLET){return null;}var viewTag=animatedRef();if(viewTag===-1){console.warn(\"[Reanimated] The view with tag \"+viewTag+\" is not a valid argument for measure(). This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).\");return null;}var measured=_measure(viewTag);if(measured===null){console.warn(\"[Reanimated] The view with tag \"+viewTag+\" has some undefined, not-yet-computed or meaningless value of `LayoutMetrics` type. This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).\");return null;}else if(measured.x===-1234567){console.warn(\"[Reanimated] The view with tag \"+viewTag+\" returned an invalid measurement response.\");return null;}else if(isNaN(measured.x)){console.warn(\"[Reanimated] The view with tag \"+viewTag+\" gets view-flattened on Android. To disable view-flattening, set `collapsable={false}` on this component.\");return null;}else{return measured;}};_f._closure={};_f.__initData=_worklet_17547697225118_init_data;_f.__workletHash=17547697225118;return _f;}();}var _worklet_10148967230492_init_data={code:\"function dispatchCommand(animatedRef,commandName,args){const{isNative}=this._closure;if(!_WORKLET||!isNative){return;}const shadowNodeWrapper=animatedRef();_dispatchCommand(shadowNodeWrapper,commandName,args);}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/NativeMethods.js\"};var dispatchCommand=exports.dispatchCommand=function(){var _f=function _f(animatedRef,commandName,args){if(!_WORKLET||!isNative){return;}var shadowNodeWrapper=animatedRef();_dispatchCommand(shadowNodeWrapper,commandName,args);};_f._closure={isNative:isNative};_f.__initData=_worklet_10148967230492_init_data;_f.__workletHash=10148967230492;return _f;}();var scrollTo;var _worklet_15141703724063_init_data={code:\"function anonymous(animatedRef,x,y,animated){const element=animatedRef();element.scrollTo({x:x,y:y,animated:animated});}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/NativeMethods.js\"};var _worklet_13298936966164_init_data={code:\"function anonymous(animatedRef,x,y,animated){const{dispatchCommand}=this._closure;dispatchCommand(animatedRef,'scrollTo',[x,y,animated]);}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/NativeMethods.js\"};var _worklet_2128926035067_init_data={code:\"function anonymous(animatedRef,x,y,animated){if(!_WORKLET){return;}const viewTag=animatedRef();_scrollTo(viewTag,x,y,animated);}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/NativeMethods.js\"};if((0,_PlatformChecker.isWeb)()){exports.scrollTo=scrollTo=function(){var _f=function _f(animatedRef,x,y,animated){var element=animatedRef();element.scrollTo({x:x,y:y,animated:animated});};_f._closure={};_f.__initData=_worklet_15141703724063_init_data;_f.__workletHash=15141703724063;return _f;}();}else if(isNative&&global._IS_FABRIC){exports.scrollTo=scrollTo=function(){var _f=function _f(animatedRef,x,y,animated){dispatchCommand(animatedRef,'scrollTo',[x,y,animated]);};_f._closure={dispatchCommand:dispatchCommand};_f.__initData=_worklet_13298936966164_init_data;_f.__workletHash=13298936966164;return _f;}();}else if(isNative){exports.scrollTo=scrollTo=function(){var _f=function _f(animatedRef,x,y,animated){if(!_WORKLET){return;}var viewTag=animatedRef();_scrollTo(viewTag,x,y,animated);};_f._closure={};_f.__initData=_worklet_2128926035067_init_data;_f.__workletHash=2128926035067;return _f;}();}else{exports.scrollTo=scrollTo=function scrollTo(_animatedRef,_x,_y){};}var _worklet_13856860948199_init_data={code:\"function setGestureState(handlerTag,newState){const{isNative}=this._closure;if(!_WORKLET||!isNative){console.warn('[Reanimated] You can not use setGestureState in non-worklet function.');return;}_setGestureState(handlerTag,newState);}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/NativeMethods.js\"};var setGestureState=exports.setGestureState=function(){var _f=function _f(handlerTag,newState){if(!_WORKLET||!isNative){console.warn('[Reanimated] You can not use setGestureState in non-worklet function.');return;}_setGestureState(handlerTag,newState);};_f._closure={isNative:isNative};_f.__initData=_worklet_13856860948199_init_data;_f.__workletHash=13856860948199;return _f;}();","map":{"version":3,"names":["_reactNative","require","_PlatformChecker","getTag","view","findNodeHandle","isNative","shouldBeUseWeb","measure","_worklet_17547697225118_init_data","code","location","isWeb","exports","animatedRef","element","viewportOffset","getBoundingClientRect","width","offsetWidth","height","offsetHeight","x","offsetLeft","y","offsetTop","pageX","left","pageY","top","isChromeDebugger","_animatedRef","console","warn","_f","_WORKLET","viewTag","measured","_measure","isNaN","_closure","__initData","__workletHash","_worklet_10148967230492_init_data","dispatchCommand","commandName","args","shadowNodeWrapper","_dispatchCommand","scrollTo","_worklet_15141703724063_init_data","_worklet_13298936966164_init_data","_worklet_2128926035067_init_data","animated","global","_IS_FABRIC","_scrollTo","_x","_y","_worklet_13856860948199_init_data","setGestureState","handlerTag","newState","_setGestureState"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/NativeMethods.ts"],"sourcesContent":["/* global _WORKLET _measure _scrollTo _dispatchCommand _setGestureState */\nimport { Component } from 'react';\nimport { findNodeHandle } from 'react-native';\nimport { MeasuredDimensions, ShadowNodeWrapper } from './commonTypes';\nimport { RefObjectFunction } from './hook/commonTypes';\nimport { isChromeDebugger, isWeb, shouldBeUseWeb } from './PlatformChecker';\n\nexport function getTag(\n  view: null | number | React.Component<any, any> | React.ComponentClass<any>\n): null | number {\n  return findNodeHandle(view);\n}\n\nconst isNative = !shouldBeUseWeb();\n\nexport let measure: (\n  animatedRef: RefObjectFunction<Component>\n) => MeasuredDimensions | null;\n\nif (isWeb()) {\n  measure = (animatedRef: RefObjectFunction<Component>) => {\n    const element = animatedRef() as unknown as HTMLElement; // TODO: fix typing of animated refs on web\n    const viewportOffset = element.getBoundingClientRect();\n    return {\n      width: element.offsetWidth,\n      height: element.offsetHeight,\n      x: element.offsetLeft,\n      y: element.offsetTop,\n      pageX: viewportOffset.left,\n      pageY: viewportOffset.top,\n    };\n  };\n} else if (isChromeDebugger()) {\n  measure = (_animatedRef: RefObjectFunction<Component>) => {\n    console.warn('[Reanimated] measure() cannot be used with Chrome Debugger.');\n    return null;\n  };\n} else {\n  measure = (animatedRef: RefObjectFunction<Component>) => {\n    'worklet';\n    if (!_WORKLET) {\n      return null;\n    }\n\n    const viewTag = animatedRef();\n    if (viewTag === -1) {\n      console.warn(\n        `[Reanimated] The view with tag ${viewTag} is not a valid argument for measure(). This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).`\n      );\n      return null;\n    }\n\n    const measured = _measure(viewTag);\n    if (measured === null) {\n      console.warn(\n        `[Reanimated] The view with tag ${viewTag} has some undefined, not-yet-computed or meaningless value of \\`LayoutMetrics\\` type. This may be because the view is not currently rendered, which may not be a bug (e.g. an off-screen FlatList item).`\n      );\n      return null;\n    } else if (measured.x === -1234567) {\n      console.warn(\n        `[Reanimated] The view with tag ${viewTag} returned an invalid measurement response.`\n      );\n      return null;\n    } else if (isNaN(measured.x)) {\n      console.warn(\n        `[Reanimated] The view with tag ${viewTag} gets view-flattened on Android. To disable view-flattening, set \\`collapsable={false}\\` on this component.`\n      );\n      return null;\n    } else {\n      return measured;\n    }\n  };\n}\n\nexport function dispatchCommand(\n  animatedRef: RefObjectFunction<Component>,\n  commandName: string,\n  args: Array<unknown>\n): void {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    return;\n  }\n\n  // dispatchCommand works only on Fabric where animatedRef returns\n  // an object (ShadowNodeWrapper) and not a number\n  const shadowNodeWrapper = animatedRef() as ShadowNodeWrapper;\n  _dispatchCommand!(shadowNodeWrapper, commandName, args);\n}\n\nexport let scrollTo: (\n  animatedRef: RefObjectFunction<Component>,\n  x: number,\n  y: number,\n  animated: boolean\n) => void;\n\nif (isWeb()) {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    const element = animatedRef() as unknown as HTMLElement;\n    // @ts-ignore same call as in react-native-web\n    element.scrollTo({ x, y, animated });\n  };\n} else if (isNative && global._IS_FABRIC) {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    dispatchCommand(animatedRef, 'scrollTo', [x, y, animated]);\n  };\n} else if (isNative) {\n  scrollTo = (\n    animatedRef: RefObjectFunction<Component>,\n    x: number,\n    y: number,\n    animated: boolean\n  ) => {\n    'worklet';\n    if (!_WORKLET) {\n      return;\n    }\n\n    // Calling animatedRef on Paper returns a number (nativeTag)\n    const viewTag = animatedRef() as number;\n    _scrollTo(viewTag, x, y, animated);\n  };\n} else {\n  scrollTo = (\n    _animatedRef: RefObjectFunction<Component>,\n    _x: number,\n    _y: number\n  ) => {\n    // no-op\n  };\n}\n\nexport function setGestureState(handlerTag: number, newState: number): void {\n  'worklet';\n  if (!_WORKLET || !isNative) {\n    console.warn(\n      '[Reanimated] You can not use setGestureState in non-worklet function.'\n    );\n    return;\n  }\n  _setGestureState(handlerTag, newState);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}