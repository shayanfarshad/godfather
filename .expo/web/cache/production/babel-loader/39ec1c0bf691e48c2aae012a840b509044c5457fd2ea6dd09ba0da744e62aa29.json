{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.useNormalizedSnapPoints=void 0;var _reactNativeReanimated=require(\"react-native-reanimated\");var _utilities=require(\"../utilities\");var _constants=require(\"../components/bottomSheet/constants\");var _worklet_2294954352325_init_data={code:\"function anonymous(){const{containerHeight,INITIAL_CONTAINER_HEIGHT,INITIAL_SNAP_POINT,snapPoints,normalizeSnapPoint,enableDynamicSizing,handleHeight,INITIAL_HANDLE_HEIGHT,contentHeight,maxDynamicContentSize}=this._closure;const isContainerLayoutReady=containerHeight.value!==INITIAL_CONTAINER_HEIGHT;if(!isContainerLayoutReady){return[INITIAL_SNAP_POINT];}const _snapPoints=snapPoints?'value'in snapPoints?snapPoints.value:snapPoints:[];let _normalizedSnapPoints=_snapPoints.map(function(snapPoint){return normalizeSnapPoint(snapPoint,containerHeight.value);});if(enableDynamicSizing){if(handleHeight.value===INITIAL_HANDLE_HEIGHT){return[INITIAL_SNAP_POINT];}if(contentHeight.value===INITIAL_CONTAINER_HEIGHT){return[INITIAL_SNAP_POINT];}_normalizedSnapPoints.push(containerHeight.value-Math.min(contentHeight.value+handleHeight.value,maxDynamicContentSize!==undefined?maxDynamicContentSize:containerHeight.value));_normalizedSnapPoints=_normalizedSnapPoints.sort(function(a,b){return b-a;});}return _normalizedSnapPoints;}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useNormalizedSnapPoints.js\"};var useNormalizedSnapPoints=exports.useNormalizedSnapPoints=function useNormalizedSnapPoints(snapPoints,containerHeight,contentHeight,handleHeight,enableDynamicSizing,maxDynamicContentSize){var normalizedSnapPoints=(0,_reactNativeReanimated.useDerivedValue)(function(){var _f=function _f(){var isContainerLayoutReady=containerHeight.value!==_constants.INITIAL_CONTAINER_HEIGHT;if(!isContainerLayoutReady){return[_constants.INITIAL_SNAP_POINT];}var _snapPoints=snapPoints?'value'in snapPoints?snapPoints.value:snapPoints:[];var _normalizedSnapPoints=_snapPoints.map(function(snapPoint){return(0,_utilities.normalizeSnapPoint)(snapPoint,containerHeight.value);});if(enableDynamicSizing){if(handleHeight.value===_constants.INITIAL_HANDLE_HEIGHT){return[_constants.INITIAL_SNAP_POINT];}if(contentHeight.value===_constants.INITIAL_CONTAINER_HEIGHT){return[_constants.INITIAL_SNAP_POINT];}_normalizedSnapPoints.push(containerHeight.value-Math.min(contentHeight.value+handleHeight.value,maxDynamicContentSize!==undefined?maxDynamicContentSize:containerHeight.value));_normalizedSnapPoints=_normalizedSnapPoints.sort(function(a,b){return b-a;});}return _normalizedSnapPoints;};_f._closure={containerHeight:containerHeight,INITIAL_CONTAINER_HEIGHT:_constants.INITIAL_CONTAINER_HEIGHT,INITIAL_SNAP_POINT:_constants.INITIAL_SNAP_POINT,snapPoints:snapPoints,normalizeSnapPoint:_utilities.normalizeSnapPoint,enableDynamicSizing:enableDynamicSizing,handleHeight:handleHeight,INITIAL_HANDLE_HEIGHT:_constants.INITIAL_HANDLE_HEIGHT,contentHeight:contentHeight,maxDynamicContentSize:maxDynamicContentSize};_f.__initData=_worklet_2294954352325_init_data;_f.__workletHash=2294954352325;return _f;}(),[snapPoints,enableDynamicSizing,maxDynamicContentSize]);return normalizedSnapPoints;};","map":{"version":3,"names":["_reactNativeReanimated","require","_utilities","_constants","_worklet_2294954352325_init_data","code","location","useNormalizedSnapPoints","exports","snapPoints","containerHeight","contentHeight","handleHeight","enableDynamicSizing","maxDynamicContentSize","normalizedSnapPoints","useDerivedValue","_f","isContainerLayoutReady","value","INITIAL_CONTAINER_HEIGHT","INITIAL_SNAP_POINT","_snapPoints","_normalizedSnapPoints","map","snapPoint","normalizeSnapPoint","INITIAL_HANDLE_HEIGHT","push","Math","min","undefined","sort","a","b","_closure","__initData","__workletHash"],"sources":["/Users/shayan/workspace/godfather/node_modules/@gorhom/bottom-sheet/lib/module/hooks/useNormalizedSnapPoints.ts"],"sourcesContent":["import Animated, { useDerivedValue } from 'react-native-reanimated';\nimport { normalizeSnapPoint } from '../utilities';\nimport type { BottomSheetProps } from '../components/bottomSheet';\nimport {\n  INITIAL_CONTAINER_HEIGHT,\n  INITIAL_HANDLE_HEIGHT,\n  INITIAL_SNAP_POINT,\n} from '../components/bottomSheet/constants';\n\n/**\n * Convert percentage snap points to pixels in screen and calculate\n * the accurate snap points positions.\n * @param snapPoints provided snap points.\n * @param containerHeight BottomSheetContainer height.\n * @param contentHeight content size.\n * @param handleHeight handle size.\n * @param enableDynamicSizing\n * @param maxDynamicContentSize\n * @returns {Animated.SharedValue<number[]>}\n */\nexport const useNormalizedSnapPoints = (\n  snapPoints: BottomSheetProps['snapPoints'],\n  containerHeight: Animated.SharedValue<number>,\n  contentHeight: Animated.SharedValue<number>,\n  handleHeight: Animated.SharedValue<number>,\n  enableDynamicSizing: BottomSheetProps['enableDynamicSizing'],\n  maxDynamicContentSize: BottomSheetProps['maxDynamicContentSize']\n) => {\n  const normalizedSnapPoints = useDerivedValue(() => {\n    // early exit, if container layout is not ready\n    const isContainerLayoutReady =\n      containerHeight.value !== INITIAL_CONTAINER_HEIGHT;\n    if (!isContainerLayoutReady) {\n      return [INITIAL_SNAP_POINT];\n    }\n\n    const _snapPoints = snapPoints\n      ? 'value' in snapPoints\n        ? snapPoints.value\n        : snapPoints\n      : [];\n\n    let _normalizedSnapPoints = _snapPoints.map(snapPoint =>\n      normalizeSnapPoint(snapPoint, containerHeight.value)\n    ) as number[];\n\n    if (enableDynamicSizing) {\n      if (handleHeight.value === INITIAL_HANDLE_HEIGHT) {\n        return [INITIAL_SNAP_POINT];\n      }\n\n      if (contentHeight.value === INITIAL_CONTAINER_HEIGHT) {\n        return [INITIAL_SNAP_POINT];\n      }\n\n      _normalizedSnapPoints.push(\n        containerHeight.value -\n          Math.min(\n            contentHeight.value + handleHeight.value,\n            maxDynamicContentSize !== undefined\n              ? maxDynamicContentSize\n              : containerHeight.value\n          )\n      );\n\n      _normalizedSnapPoints = _normalizedSnapPoints.sort((a, b) => b - a);\n    }\n    return _normalizedSnapPoints;\n  }, [snapPoints, enableDynamicSizing, maxDynamicContentSize]);\n\n  return normalizedSnapPoints;\n};\n"],"mappings":"gGAAA,IAAAA,sBAAA,CAAAC,OAAA,4BACA,IAAAC,UAAA,CAAAD,OAAA,iBAEA,IAAAE,UAAA,CAAAF,OAAA,4CAAAG,gCAAA,EAAAC,IAAA,qgCAAAC,QAAA,kFAiBO,GAAM,CAAAC,uBAAuB,CAAAC,OAAA,CAAAD,uBAAA,CAAG,QAA1B,CAAAA,uBAAuBA,CAClCE,UADqC,CAErCC,eAFqC,CAGrCC,aAHqC,CAIrCC,YAJqC,CAKrCC,mBALqC,CAMrCC,qBANqC,CAOlC,CACH,GAAM,CAAAC,oBAAoB,CAAG,GAAAC,sCAAe,iBAAAC,EAAA,UAAAA,GAAA,CAAO,CAEjD,GAAM,CAAAC,sBAAsB,CAC1BR,eAAe,CAACS,KAAhB,GAA0BC,mCAD5B,CAEA,GAAI,CAACF,sBAAL,CAA6B,CAC3B,MAAO,CAACG,6BAAD,CAAP,CACD,CAED,GAAM,CAAAC,WAAW,CAAGb,UAAU,CAC1B,SAAW,CAAAA,UAAX,CACEA,UAAU,CAACU,KADb,CAEEV,UAHwB,CAI1B,EAJJ,CAMA,GAAI,CAAAc,qBAAqB,CAAGD,WAAW,CAACE,GAAZ,CAAgB,SAAAC,SAAS,QACnD,GAAAC,6BAAkB,EAACD,SAAD,CAAYf,eAAe,CAACS,KAA5B,CADQ,GAA5B,CAIA,GAAIN,mBAAJ,CAAyB,CACvB,GAAID,YAAY,CAACO,KAAb,GAAuBQ,gCAA3B,CAAkD,CAChD,MAAO,CAACN,6BAAD,CAAP,CACD,CAED,GAAIV,aAAa,CAACQ,KAAd,GAAwBC,mCAA5B,CAAsD,CACpD,MAAO,CAACC,6BAAD,CAAP,CACD,CAEDE,qBAAqB,CAACK,IAAtB,CACElB,eAAe,CAACS,KAAhB,CACEU,IAAI,CAACC,GAAL,CACEnB,aAAa,CAACQ,KAAd,CAAsBP,YAAY,CAACO,KADrC,CAEEL,qBAAqB,GAAKiB,SAA1B,CACIjB,qBADJ,CAEIJ,eAAe,CAACS,KAJtB,CAFJ,EAUAI,qBAAqB,CAAGA,qBAAqB,CAACS,IAAtB,CAA2B,SAACC,CAAD,CAAIC,CAAJ,QAAU,CAAAA,CAAC,CAAGD,CAAzC,GAAxB,CACD,CACD,MAAO,CAAAV,qBAAP,CACD,CAxC2C,CAAAN,EAAA,CAAAkB,QAAA,EAAAzB,eAAA,CADzCA,eAAA,CAAAU,wBAAA,CATLA,mCAAA,CAAAC,kBAAA,CACAA,6BAAA,CAAAZ,UAAA,CAPAA,UAAA,CAAAiB,kBAAA,CACAA,6BAAA,CAAAb,mBAAA,CACAA,mBAAA,CAAAD,YAAA,CAUEA,YACA,CAAAe,qBAAA,CAVFA,gCAAA,CAAAhB,aAAA,CAOEA,aACA,CAAAG,qBAAA,CAHqCA,qBAOlC,EAAAG,EAAA,CAAAmB,UAAA,CAAAhC,gCAAA,CAAAa,EAAA,CAAAoB,aAAA,sBAAApB,EAAA,KAyCA,CAACR,UAAD,CAAaI,mBAAb,CAAkCC,qBAAlC,CAxCyC,CAA5C,CA0CA,MAAO,CAAAC,oBAAP,CACD,CAnDM"},"metadata":{},"sourceType":"script","externalDependencies":[]}