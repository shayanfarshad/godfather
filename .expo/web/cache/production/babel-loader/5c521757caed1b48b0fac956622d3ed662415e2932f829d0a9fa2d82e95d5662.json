{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.useAnimatedGestureHandler=useAnimatedGestureHandler;var _Hooks=require(\"./Hooks\");var EventType={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5};var _worklet_15306771428548_init_data={code:\"function anonymous(e){const{useWeb,EventType,handlers,context}=this.__closure;const event=useWeb?e.nativeEvent:e;if(event.state===EventType.BEGAN&&handlers.onStart){handlers.onStart(event,context);}if(event.state===EventType.ACTIVE&&handlers.onActive){handlers.onActive(event,context);}if(event.oldState===EventType.ACTIVE&&event.state===EventType.END&&handlers.onEnd){handlers.onEnd(event,context);}if(event.oldState===EventType.BEGAN&&event.state===EventType.FAILED&&handlers.onFail){handlers.onFail(event,context);}if(event.oldState===EventType.ACTIVE&&event.state===EventType.CANCELLED&&handlers.onCancel){handlers.onCancel(event,context);}if((event.oldState===EventType.BEGAN||event.oldState===EventType.ACTIVE)&&event.state!==EventType.BEGAN&&event.state!==EventType.ACTIVE&&handlers.onFinish){handlers.onFinish(event,context,event.state===EventType.CANCELLED||event.state===EventType.FAILED);}}\"};function useAnimatedGestureHandler(handlers,dependencies){var _useHandler=(0,_Hooks.useHandler)(handlers,dependencies),context=_useHandler.context,doDependenciesDiffer=_useHandler.doDependenciesDiffer,useWeb=_useHandler.useWeb;var handler=function(){var anonymous=function anonymous(e){var event=useWeb?e.nativeEvent:e;if(event.state===EventType.BEGAN&&handlers.onStart){handlers.onStart(event,context);}if(event.state===EventType.ACTIVE&&handlers.onActive){handlers.onActive(event,context);}if(event.oldState===EventType.ACTIVE&&event.state===EventType.END&&handlers.onEnd){handlers.onEnd(event,context);}if(event.oldState===EventType.BEGAN&&event.state===EventType.FAILED&&handlers.onFail){handlers.onFail(event,context);}if(event.oldState===EventType.ACTIVE&&event.state===EventType.CANCELLED&&handlers.onCancel){handlers.onCancel(event,context);}if((event.oldState===EventType.BEGAN||event.oldState===EventType.ACTIVE)&&event.state!==EventType.BEGAN&&event.state!==EventType.ACTIVE&&handlers.onFinish){handlers.onFinish(event,context,event.state===EventType.CANCELLED||event.state===EventType.FAILED);}};anonymous.__closure={useWeb:useWeb,EventType:EventType,handlers:handlers,context:context};anonymous.__initData=_worklet_15306771428548_init_data;anonymous.__workletHash=15306771428548;return anonymous;}();if(useWeb){return handler;}return(0,_Hooks.useEvent)(handler,['onGestureHandlerStateChange','onGestureHandlerEvent'],doDependenciesDiffer);}","map":{"version":3,"names":["_Hooks","require","EventType","UNDETERMINED","FAILED","BEGAN","CANCELLED","ACTIVE","END","_worklet_15306771428548_init_data","code","useAnimatedGestureHandler","handlers","dependencies","_useHandler","useHandler","context","doDependenciesDiffer","useWeb","handler","anonymous","e","event","nativeEvent","state","onStart","onActive","oldState","onEnd","onFail","onCancel","onFinish","__closure","__initData","__workletHash","useEvent"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/hook/useAnimatedGestureHandler.ts"],"sourcesContent":["import type { __Context, __WorkletFunction, NativeEvent } from '../commonTypes';\nimport type { DependencyList } from './commonTypes';\nimport { useEvent, useHandler } from './Hooks';\n\ninterface Handler<T, TContext extends __Context> extends __WorkletFunction {\n  (event: T, context: TContext, isCanceledOrFailed?: boolean): void;\n}\n\nexport interface GestureHandlers<T, TContext extends __Context> {\n  [key: string]: Handler<T, TContext> | undefined;\n  onStart?: Handler<T, TContext>;\n  onActive?: Handler<T, TContext>;\n  onEnd?: Handler<T, TContext>;\n  onFail?: Handler<T, TContext>;\n  onCancel?: Handler<T, TContext>;\n  onFinish?: Handler<T, TContext>;\n}\n\nconst EventType = {\n  UNDETERMINED: 0,\n  FAILED: 1,\n  BEGAN: 2,\n  CANCELLED: 3,\n  ACTIVE: 4,\n  END: 5,\n};\n\ninterface GestureHandlerNativeEvent {\n  handlerTag: number;\n  numberOfPointers: number;\n  state: (typeof EventType)[keyof typeof EventType];\n}\n\nexport interface GestureHandlerEvent<T> extends NativeEvent<T> {\n  nativeEvent: T;\n}\n\ntype InferArgument<T> = T extends GestureHandlerEvent<infer E>\n  ? E extends GestureHandlerNativeEvent\n    ? E\n    : never\n  : never;\n\nexport function useAnimatedGestureHandler<\n  T extends GestureHandlerEvent<any>,\n  TContext extends __Context = __Context,\n  Payload = InferArgument<T>\n>(\n  handlers: GestureHandlers<Payload, TContext>,\n  dependencies?: DependencyList\n): (e: T) => void {\n  const { context, doDependenciesDiffer, useWeb } = useHandler<\n    Payload,\n    TContext\n  >(handlers, dependencies);\n\n  const handler = (e: T) => {\n    'worklet';\n    const event = useWeb ? e.nativeEvent : e;\n\n    if (event.state === EventType.BEGAN && handlers.onStart) {\n      handlers.onStart(event, context);\n    }\n    if (event.state === EventType.ACTIVE && handlers.onActive) {\n      handlers.onActive(event, context);\n    }\n    if (\n      event.oldState === EventType.ACTIVE &&\n      event.state === EventType.END &&\n      handlers.onEnd\n    ) {\n      handlers.onEnd(event, context);\n    }\n    if (\n      event.oldState === EventType.BEGAN &&\n      event.state === EventType.FAILED &&\n      handlers.onFail\n    ) {\n      handlers.onFail(event, context);\n    }\n    if (\n      event.oldState === EventType.ACTIVE &&\n      event.state === EventType.CANCELLED &&\n      handlers.onCancel\n    ) {\n      handlers.onCancel(event, context);\n    }\n    if (\n      (event.oldState === EventType.BEGAN ||\n        event.oldState === EventType.ACTIVE) &&\n      event.state !== EventType.BEGAN &&\n      event.state !== EventType.ACTIVE &&\n      handlers.onFinish\n    ) {\n      handlers.onFinish(\n        event,\n        context,\n        event.state === EventType.CANCELLED || event.state === EventType.FAILED\n      );\n    }\n  };\n\n  if (useWeb) {\n    return handler;\n  }\n\n  return useEvent<T>(\n    handler,\n    ['onGestureHandlerStateChange', 'onGestureHandlerEvent'],\n    doDependenciesDiffer\n  ) as unknown as (e: T) => void; // this is not correct but we want to make GH think it receives a function\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}