{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.BaseAnimationBuilder=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _animation=require(\"../../animation\");var _commonTypes=require(\"../../commonTypes\");var _util=require(\"../../animation/util\");function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}var _worklet_13836389523485_init_data={code:\"function anonymous(delay,animation){const{withDelay,reduceMotion}=this.__closure;return withDelay(delay,animation,reduceMotion);}\"};var _worklet_5312609872546_init_data={code:\"function anonymous(_,animation){const{getReduceMotionFromConfig,reduceMotion}=this.__closure;animation.reduceMotion=getReduceMotionFromConfig(reduceMotion);return animation;}\"};var BaseAnimationBuilder=exports.BaseAnimationBuilder=function(){function BaseAnimationBuilder(){(0,_classCallCheck2.default)(this,BaseAnimationBuilder);_defineProperty(this,\"durationV\",void 0);_defineProperty(this,\"delayV\",void 0);_defineProperty(this,\"reduceMotionV\",_commonTypes.ReduceMotion.System);_defineProperty(this,\"randomizeDelay\",false);_defineProperty(this,\"callbackV\",void 0);_defineProperty(this,\"build\",function(){throw new Error('[Reanimated] Unimplemented method in child class.');});}(0,_createClass2.default)(BaseAnimationBuilder,[{key:\"duration\",value:function duration(durationMs){this.durationV=durationMs;return this;}},{key:\"delay\",value:function delay(delayMs){this.delayV=delayMs;return this;}},{key:\"withCallback\",value:function withCallback(callback){this.callbackV=callback;return this;}},{key:\"reduceMotion\",value:function reduceMotion(reduceMotionV){this.reduceMotionV=reduceMotionV;return this;}},{key:\"getDuration\",value:function getDuration(){var _this$durationV;return(_this$durationV=this.durationV)!=null?_this$durationV:300;}},{key:\"randomDelay\",value:function randomDelay(){this.randomizeDelay=true;return this;}},{key:\"getDelay\",value:function getDelay(){var _this$delayV,_this$delayV2;return this.randomizeDelay?Math.random()*((_this$delayV=this.delayV)!=null?_this$delayV:1000):(_this$delayV2=this.delayV)!=null?_this$delayV2:0;}},{key:\"getReduceMotion\",value:function getReduceMotion(){return this.reduceMotionV;}},{key:\"getDelayFunction\",value:function getDelayFunction(){var isDelayProvided=this.randomizeDelay||this.delayV;var reduceMotion=this.getReduceMotion();return isDelayProvided?function(){var anonymous=function anonymous(delay,animation){return(0,_animation.withDelay)(delay,animation,reduceMotion);};anonymous.__closure={withDelay:_animation.withDelay,reduceMotion:reduceMotion};anonymous.__initData=_worklet_13836389523485_init_data;anonymous.__workletHash=13836389523485;return anonymous;}():function(){var anonymous=function anonymous(_,animation){animation.reduceMotion=(0,_util.getReduceMotionFromConfig)(reduceMotion);return animation;};anonymous.__closure={getReduceMotionFromConfig:_util.getReduceMotionFromConfig,reduceMotion:reduceMotion};anonymous.__initData=_worklet_5312609872546_init_data;anonymous.__workletHash=5312609872546;return anonymous;}();}}],[{key:\"duration\",value:function duration(durationMs){var instance=this.createInstance();return instance.duration(durationMs);}},{key:\"delay\",value:function delay(delayMs){var instance=this.createInstance();return instance.delay(delayMs);}},{key:\"withCallback\",value:function withCallback(callback){var instance=this.createInstance();return instance.withCallback(callback);}},{key:\"reduceMotion\",value:function reduceMotion(reduceMotionV){var instance=this.createInstance();return instance.reduceMotion(reduceMotionV);}},{key:\"getDuration\",value:function getDuration(){return 300;}},{key:\"randomDelay\",value:function randomDelay(){var instance=this.createInstance();return instance.randomDelay();}},{key:\"build\",value:function build(){var instance=this.createInstance();return instance.build();}}]);return BaseAnimationBuilder;}();_defineProperty(BaseAnimationBuilder,\"createInstance\",void 0);","map":{"version":3,"names":["_animation","require","_commonTypes","_util","BaseAnimationBuilder","exports","_classCallCheck2","default","_defineProperty","ReduceMotion","System","Error","_createClass2","key","value","duration","durationMs","durationV","delay","delayMs","delayV","withCallback","callback","callbackV","reduceMotion","reduceMotionV","getDuration","_this$durationV","randomDelay","randomizeDelay","getDelay","_this$delayV","_this$delayV2","Math","random","getReduceMotion","getDelayFunction","isDelayProvided","anonymous","animation","withDelay","__closure","_","getReduceMotionFromConfig","instance","createInstance","build"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/layoutReanimation/animationBuilder/BaseAnimationBuilder.ts"],"sourcesContent":["import { withDelay } from '../../animation';\nimport type {\n  EntryExitAnimationFunction,\n  AnimationFunction,\n  LayoutAnimationFunction,\n} from './commonTypes';\n\nimport { ReduceMotion } from '../../commonTypes';\nimport { getReduceMotionFromConfig } from '../../animation/util';\n\nexport class BaseAnimationBuilder {\n  durationV?: number;\n  delayV?: number;\n  reduceMotionV: ReduceMotion = ReduceMotion.System;\n  randomizeDelay = false;\n  callbackV?: (finished: boolean) => void;\n\n  static createInstance: <T extends typeof BaseAnimationBuilder>(\n    this: T\n  ) => InstanceType<T>;\n\n  build = (): EntryExitAnimationFunction | LayoutAnimationFunction => {\n    throw new Error('[Reanimated] Unimplemented method in child class.');\n  };\n\n  static duration<T extends typeof BaseAnimationBuilder>(\n    this: T,\n    durationMs: number\n  ): InstanceType<T> {\n    const instance = this.createInstance();\n    return instance.duration(durationMs);\n  }\n\n  duration(durationMs: number): this {\n    this.durationV = durationMs;\n    return this;\n  }\n\n  static delay<T extends typeof BaseAnimationBuilder>(\n    this: T,\n    delayMs: number\n  ): InstanceType<T> {\n    const instance = this.createInstance();\n    return instance.delay(delayMs);\n  }\n\n  delay(delayMs: number): this {\n    this.delayV = delayMs;\n    return this;\n  }\n\n  static withCallback<T extends typeof BaseAnimationBuilder>(\n    this: T,\n    callback: (finished: boolean) => void\n  ): InstanceType<T> {\n    const instance = this.createInstance();\n    return instance.withCallback(callback);\n  }\n\n  withCallback(callback: (finsihed: boolean) => void): this {\n    this.callbackV = callback;\n    return this;\n  }\n\n  static reduceMotion<T extends typeof BaseAnimationBuilder>(\n    this: T,\n    reduceMotionV: ReduceMotion\n  ): InstanceType<T> {\n    const instance = this.createInstance();\n    return instance.reduceMotion(reduceMotionV);\n  }\n\n  reduceMotion(reduceMotionV: ReduceMotion): this {\n    this.reduceMotionV = reduceMotionV;\n    return this;\n  }\n\n  // 300ms is the default animation duration. If any animation has different default has to override this method.\n  static getDuration(): number {\n    return 300;\n  }\n\n  getDuration(): number {\n    return this.durationV ?? 300;\n  }\n\n  static randomDelay<T extends typeof BaseAnimationBuilder>(\n    this: T\n  ): InstanceType<T> {\n    const instance = this.createInstance();\n    return instance.randomDelay();\n  }\n\n  randomDelay(): this {\n    this.randomizeDelay = true;\n    return this;\n  }\n\n  // when randomizeDelay is set to true, randomize delay between 0 and provided value (or 1000ms if delay is not provided)\n  getDelay(): number {\n    return this.randomizeDelay\n      ? Math.random() * (this.delayV ?? 1000)\n      : this.delayV ?? 0;\n  }\n\n  getReduceMotion(): ReduceMotion {\n    return this.reduceMotionV;\n  }\n\n  getDelayFunction(): AnimationFunction {\n    const isDelayProvided = this.randomizeDelay || this.delayV;\n    const reduceMotion = this.getReduceMotion();\n    return isDelayProvided\n      ? (delay, animation) => {\n          'worklet';\n          return withDelay(delay, animation, reduceMotion);\n        }\n      : (_, animation) => {\n          'worklet';\n          animation.reduceMotion = getReduceMotionFromConfig(reduceMotion);\n          return animation;\n        };\n  }\n\n  static build<T extends typeof BaseAnimationBuilder>(\n    this: T\n  ): EntryExitAnimationFunction | LayoutAnimationFunction {\n    const instance = this.createInstance();\n    return instance.build();\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}