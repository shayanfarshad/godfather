{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.TabView=TabView;var _extends3=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var React=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _Pager=require(\"./Pager\");var _SceneView=require(\"./SceneView\");var _TabBar=require(\"./TabBar\");function _getRequireWildcardCache(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(\"default\"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function TabView(_ref){var onIndexChange=_ref.onIndexChange,navigationState=_ref.navigationState,renderScene=_ref.renderScene,initialLayout=_ref.initialLayout,_ref$keyboardDismissM=_ref.keyboardDismissMode,keyboardDismissMode=_ref$keyboardDismissM===void 0?'auto':_ref$keyboardDismissM,_ref$lazy=_ref.lazy,lazy=_ref$lazy===void 0?false:_ref$lazy,_ref$lazyPreloadDista=_ref.lazyPreloadDistance,lazyPreloadDistance=_ref$lazyPreloadDista===void 0?0:_ref$lazyPreloadDista,onSwipeStart=_ref.onSwipeStart,onSwipeEnd=_ref.onSwipeEnd,_ref$renderLazyPlaceh=_ref.renderLazyPlaceholder,renderLazyPlaceholder=_ref$renderLazyPlaceh===void 0?function(){return null;}:_ref$renderLazyPlaceh,_ref$renderTabBar=_ref.renderTabBar,renderTabBar=_ref$renderTabBar===void 0?function(props){return React.createElement(_TabBar.TabBar,props);}:_ref$renderTabBar,sceneContainerStyle=_ref.sceneContainerStyle,pagerStyle=_ref.pagerStyle,style=_ref.style,_ref$swipeEnabled=_ref.swipeEnabled,swipeEnabled=_ref$swipeEnabled===void 0?true:_ref$swipeEnabled,_ref$tabBarPosition=_ref.tabBarPosition,tabBarPosition=_ref$tabBarPosition===void 0?'top':_ref$tabBarPosition,_ref$animationEnabled=_ref.animationEnabled,animationEnabled=_ref$animationEnabled===void 0?true:_ref$animationEnabled,overScrollMode=_ref.overScrollMode;var _React$useState=React.useState((0,_extends3.default)({width:0,height:0},initialLayout)),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),layout=_React$useState2[0],setLayout=_React$useState2[1];var jumpToIndex=function jumpToIndex(index){if(index!==navigationState.index){onIndexChange(index);}};var handleLayout=function handleLayout(e){var _e$nativeEvent$layout=e.nativeEvent.layout,height=_e$nativeEvent$layout.height,width=_e$nativeEvent$layout.width;setLayout(function(prevLayout){if(prevLayout.width===width&&prevLayout.height===height){return prevLayout;}return{height:height,width:width};});};return React.createElement(_reactNative.View,{onLayout:handleLayout,style:[styles.pager,style]},React.createElement(_Pager.Pager,{layout:layout,navigationState:navigationState,keyboardDismissMode:keyboardDismissMode,swipeEnabled:swipeEnabled,onSwipeStart:onSwipeStart,onSwipeEnd:onSwipeEnd,onIndexChange:jumpToIndex,animationEnabled:animationEnabled,overScrollMode:overScrollMode,style:pagerStyle},function(_ref2){var position=_ref2.position,render=_ref2.render,addEnterListener=_ref2.addEnterListener,jumpTo=_ref2.jumpTo;var sceneRendererProps={position:position,layout:layout,jumpTo:jumpTo};return React.createElement(React.Fragment,null,tabBarPosition==='top'&&renderTabBar((0,_extends3.default)({},sceneRendererProps,{navigationState:navigationState})),render(navigationState.routes.map(function(route,i){return React.createElement(_SceneView.SceneView,_extends({},sceneRendererProps,{addEnterListener:addEnterListener,key:route.key,index:i,lazy:typeof lazy==='function'?lazy({route:route}):lazy,lazyPreloadDistance:lazyPreloadDistance,navigationState:navigationState,style:sceneContainerStyle}),function(_ref3){var loading=_ref3.loading;return loading?renderLazyPlaceholder({route:route}):renderScene((0,_extends3.default)({},sceneRendererProps,{route:route}));});})),tabBarPosition==='bottom'&&renderTabBar((0,_extends3.default)({},sceneRendererProps,{navigationState:navigationState})));}));}var styles=_reactNative.StyleSheet.create({pager:{flex:1,overflow:'hidden'}});","map":{"version":3,"names":["React","_interopRequireWildcard","require","_reactNative","_Pager","_SceneView","_TabBar","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","TabView","_ref","onIndexChange","navigationState","renderScene","initialLayout","_ref$keyboardDismissM","keyboardDismissMode","_ref$lazy","lazy","_ref$lazyPreloadDista","lazyPreloadDistance","onSwipeStart","onSwipeEnd","_ref$renderLazyPlaceh","renderLazyPlaceholder","_ref$renderTabBar","renderTabBar","props","createElement","TabBar","sceneContainerStyle","pagerStyle","style","_ref$swipeEnabled","swipeEnabled","_ref$tabBarPosition","tabBarPosition","_ref$animationEnabled","animationEnabled","overScrollMode","_React$useState","useState","_extends3","width","height","_React$useState2","_slicedToArray2","layout","setLayout","jumpToIndex","index","handleLayout","_e$nativeEvent$layout","nativeEvent","prevLayout","View","onLayout","styles","pager","Pager","_ref2","position","render","addEnterListener","jumpTo","sceneRendererProps","Fragment","routes","map","route","SceneView","_extends","key","_ref3","loading","StyleSheet","create","flex","overflow"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-tab-view/src/TabView.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  LayoutChangeEvent,\n  StyleProp,\n  StyleSheet,\n  View,\n  ViewStyle,\n} from 'react-native';\n\nimport { Pager } from './Pager';\nimport { SceneView } from './SceneView';\nimport { TabBar } from './TabBar';\nimport type {\n  Layout,\n  NavigationState,\n  PagerProps,\n  Route,\n  SceneRendererProps,\n} from './types';\n\nexport type Props<T extends Route> = PagerProps & {\n  onIndexChange: (index: number) => void;\n  navigationState: NavigationState<T>;\n  renderScene: (props: SceneRendererProps & { route: T }) => React.ReactNode;\n  renderLazyPlaceholder?: (props: { route: T }) => React.ReactNode;\n  renderTabBar?: (\n    props: SceneRendererProps & { navigationState: NavigationState<T> }\n  ) => React.ReactNode;\n  tabBarPosition?: 'top' | 'bottom';\n  initialLayout?: Partial<Layout>;\n  lazy?: ((props: { route: T }) => boolean) | boolean;\n  lazyPreloadDistance?: number;\n  sceneContainerStyle?: StyleProp<ViewStyle>;\n  pagerStyle?: StyleProp<ViewStyle>;\n  style?: StyleProp<ViewStyle>;\n};\n\nexport function TabView<T extends Route>({\n  onIndexChange,\n  navigationState,\n  renderScene,\n  initialLayout,\n  keyboardDismissMode = 'auto',\n  lazy = false,\n  lazyPreloadDistance = 0,\n  onSwipeStart,\n  onSwipeEnd,\n  renderLazyPlaceholder = () => null,\n  renderTabBar = (props) => <TabBar {...props} />,\n  sceneContainerStyle,\n  pagerStyle,\n  style,\n  swipeEnabled = true,\n  tabBarPosition = 'top',\n  animationEnabled = true,\n  overScrollMode,\n}: Props<T>) {\n  const [layout, setLayout] = React.useState({\n    width: 0,\n    height: 0,\n    ...initialLayout,\n  });\n\n  const jumpToIndex = (index: number) => {\n    if (index !== navigationState.index) {\n      onIndexChange(index);\n    }\n  };\n\n  const handleLayout = (e: LayoutChangeEvent) => {\n    const { height, width } = e.nativeEvent.layout;\n\n    setLayout((prevLayout) => {\n      if (prevLayout.width === width && prevLayout.height === height) {\n        return prevLayout;\n      }\n\n      return { height, width };\n    });\n  };\n\n  return (\n    <View onLayout={handleLayout} style={[styles.pager, style]}>\n      <Pager\n        layout={layout}\n        navigationState={navigationState}\n        keyboardDismissMode={keyboardDismissMode}\n        swipeEnabled={swipeEnabled}\n        onSwipeStart={onSwipeStart}\n        onSwipeEnd={onSwipeEnd}\n        onIndexChange={jumpToIndex}\n        animationEnabled={animationEnabled}\n        overScrollMode={overScrollMode}\n        style={pagerStyle}\n      >\n        {({ position, render, addEnterListener, jumpTo }) => {\n          // All of the props here must not change between re-renders\n          // This is crucial to optimizing the routes with PureComponent\n          const sceneRendererProps = {\n            position,\n            layout,\n            jumpTo,\n          };\n\n          return (\n            <React.Fragment>\n              {tabBarPosition === 'top' &&\n                renderTabBar({\n                  ...sceneRendererProps,\n                  navigationState,\n                })}\n              {render(\n                navigationState.routes.map((route, i) => {\n                  return (\n                    <SceneView\n                      {...sceneRendererProps}\n                      addEnterListener={addEnterListener}\n                      key={route.key}\n                      index={i}\n                      lazy={typeof lazy === 'function' ? lazy({ route }) : lazy}\n                      lazyPreloadDistance={lazyPreloadDistance}\n                      navigationState={navigationState}\n                      style={sceneContainerStyle}\n                    >\n                      {({ loading }) =>\n                        loading\n                          ? renderLazyPlaceholder({ route })\n                          : renderScene({\n                              ...sceneRendererProps,\n                              route,\n                            })\n                      }\n                    </SceneView>\n                  );\n                })\n              )}\n              {tabBarPosition === 'bottom' &&\n                renderTabBar({\n                  ...sceneRendererProps,\n                  navigationState,\n                })}\n            </React.Fragment>\n          );\n        }}\n      </Pager>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  pager: {\n    flex: 1,\n    overflow: 'hidden',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}