{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _slicedToArray2=_interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));var _regenerator=_interopRequireDefault(require(\"@babel/runtime/regenerator\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _theme=require(\"../../theme\");var _i18n=require(\"../../i18n\");var _Radio=require(\"../../components/Radio\");var _i18nJs=_interopRequireDefault(require(\"i18n-js\"));var _Header=_interopRequireDefault(require(\"../../components/Header\"));var _native=require(\"@react-navigation/native\");var _mobxReact=require(\"mobx-react\");var storage=_interopRequireWildcard(require(\"../../utils/storage\"));var _reactNativeRestart=_interopRequireDefault(require(\"react-native-restart\"));var _Text=_interopRequireDefault(require(\"../../components/Text\"));var _useStore2=require(\"../../constants/useStore\");function _getRequireWildcardCache(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(\"default\"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var SettingScreen=(0,_mobxReact.observer)(function(){var nav=(0,_native.useNavigation)();var _useStore=(0,_useStore2.useStore)(),_useStore$themeStore=_useStore.themeStore,setTheme=_useStore$themeStore.setTheme,isDark=_useStore$themeStore.isDark;var getStoreTheme=function _callee(){return _regenerator.default.async(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return _regenerator.default.awrap(storage.load('theme').then(function(res){if(res==='light'){setSelectedMode('deactive');}else{setSelectedMode('active');}}));case 2:case\"end\":return _context.stop();}},null,null,null,Promise);};(0,_react.useEffect)(function(){getStoreTheme();},[]);var _useState=(0,_react.useState)(_i18nJs.default.locale==='en-IR'?'fa':'en'),_useState2=(0,_slicedToArray2.default)(_useState,2),selectedLang=_useState2[0],setSelectedLang=_useState2[1];var _useState3=(0,_react.useState)(isDark?'active':'deactive'),_useState4=(0,_slicedToArray2.default)(_useState3,2),selectedMode=_useState4[0],setSelectedMode=_useState4[1];var handlePress=function handlePress(option){if(option==='Persian'){storage.save('language','en-IR');setSelectedLang('fa');(0,_i18n.changeLang)('en-IR');_reactNativeRestart.default.restart();}else{storage.save('language','en-US');setSelectedLang('en');(0,_i18n.changeLang)('en-US');_reactNativeRestart.default.restart();}};var handleNight=function handleNight(mode){if(mode==='active'){storage.save('theme','dark');_reactNative.Appearance.setColorScheme('dark');setTheme(true);setSelectedMode(mode);}else{storage.save('theme','light');_reactNative.Appearance.setColorScheme('light');setTheme(false);setSelectedMode(mode);}};return _react.default.createElement(_reactNative.View,{style:{flex:1,paddingTop:20,paddingBottom:40,paddingHorizontal:20,backgroundColor:_theme.colors.background}},_react.default.createElement(_Header.default,{title:(0,_i18n.translate)('settings.title')}),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row-reverse'}},_react.default.createElement(_Text.default,{style:{fontSize:_theme.spacing.xl}},(0,_i18n.translate)('settings.language'))),_react.default.createElement(_reactNative.View,{style:{paddingHorizontal:20}},_react.default.createElement(_Radio.Radio,{label:(0,_i18n.translate)('settings.persian'),onPress:function onPress(){return handlePress((0,_i18n.translate)('settings.persian'));},selected:selectedLang==='fa'}),_react.default.createElement(_Radio.Radio,{label:(0,_i18n.translate)('settings.english'),onPress:function onPress(){return handlePress((0,_i18n.translate)('settings.english'));},selected:selectedLang==='en'})),_react.default.createElement(_reactNative.View,{style:{flexDirection:'row-reverse'}},_react.default.createElement(_Text.default,{style:{fontSize:_theme.spacing.xl}},(0,_i18n.translate)('settings.nightMode'))),_react.default.createElement(_reactNative.View,{style:{paddingHorizontal:20}},_react.default.createElement(_Radio.Radio,{label:(0,_i18n.translate)('settings.active'),onPress:function onPress(){return handleNight('active');},selected:selectedMode==='active'}),_react.default.createElement(_Radio.Radio,{label:(0,_i18n.translate)('settings.deactive'),onPress:function onPress(){return handleNight('deactive');},selected:selectedMode==='deactive'})));});var _default=exports.default=SettingScreen;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_theme","_i18n","_Radio","_i18nJs","_interopRequireDefault","_Header","_native","_mobxReact","storage","_reactNativeRestart","_Text","_useStore2","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","SettingScreen","observer","nav","useNavigation","_useStore","useStore","_useStore$themeStore","themeStore","setTheme","isDark","getStoreTheme","_callee","_regenerator","async","_callee$","_context","prev","next","awrap","load","then","res","setSelectedMode","stop","Promise","useEffect","_useState","useState","I18n","locale","_useState2","_slicedToArray2","selectedLang","setSelectedLang","_useState3","_useState4","selectedMode","handlePress","option","save","changeLang","RNRestart","restart","handleNight","mode","Appearance","setColorScheme","createElement","View","style","flex","paddingTop","paddingBottom","paddingHorizontal","backgroundColor","colors","background","title","translate","flexDirection","fontSize","spacing","xl","Radio","label","onPress","selected","_default","exports"],"sources":["/Users/shayan/workspace/godfather/src/screen/Settings/SettingScreen.jsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Appearance, View} from 'react-native';\nimport {colors, spacing} from '../../theme';\nimport {changeLang, translate} from '../../i18n';\nimport {Radio} from '../../components/Radio';\nimport I18n from 'i18n-js';\nimport Header from '../../components/Header';\nimport {useNavigation} from '@react-navigation/native';\nimport {observer} from 'mobx-react';\nimport * as storage from '../../utils/storage';\nimport RNRestart from 'react-native-restart';\nimport Text from '../../components/Text';\nimport {useStore} from '../../constants/useStore';\n\nconst SettingScreen = observer(() => {\n  const nav = useNavigation();\n  const {\n    themeStore: {setTheme, isDark},\n  } = useStore();\n  const getStoreTheme = async () => {\n    await storage.load('theme').then(res => {\n      if (res === 'light') {\n        setSelectedMode('deactive');\n      } else {\n        setSelectedMode('active');\n      }\n    });\n  };\n  useEffect(() => {\n    getStoreTheme();\n  }, []);\n  const [selectedLang, setSelectedLang] = useState(\n    I18n.locale === 'en-IR' ? 'fa' : 'en',\n  );\n  const [selectedMode, setSelectedMode] = useState(\n    isDark ? 'active' : 'deactive',\n  );\n\n  const handlePress = option => {\n    if (option === 'Persian') {\n      storage.save('language', 'en-IR');\n      setSelectedLang('fa');\n      changeLang('en-IR');\n      RNRestart.restart();\n    } else {\n      storage.save('language', 'en-US');\n      setSelectedLang('en');\n      changeLang('en-US');\n      RNRestart.restart();\n    }\n  };\n\n  const handleNight = mode => {\n    if (mode === 'active') {\n      storage.save('theme', 'dark');\n      Appearance.setColorScheme('dark');\n      setTheme(true);\n      setSelectedMode(mode);\n    } else {\n      storage.save('theme', 'light');\n      Appearance.setColorScheme('light');\n      setTheme(false);\n      setSelectedMode(mode);\n    }\n  };\n\n  return (\n    <View\n      style={{\n        flex: 1,\n        paddingTop: 20,\n        paddingBottom: 40,\n        paddingHorizontal: 20,\n        backgroundColor: colors.background,\n      }}>\n      <Header title={translate('settings.title')} />\n      <View style={{flexDirection: 'row-reverse'}}>\n        <Text style={{fontSize: spacing.xl}}>\n          {translate('settings.language')}\n        </Text>\n      </View>\n\n      <View style={{paddingHorizontal: 20}}>\n        <Radio\n          label={translate('settings.persian')}\n          onPress={() => handlePress(translate('settings.persian'))}\n          selected={selectedLang === 'fa'}\n        />\n        <Radio\n          label={translate('settings.english')}\n          onPress={() => handlePress(translate('settings.english'))}\n          selected={selectedLang === 'en'}\n        />\n      </View>\n      <View style={{flexDirection: 'row-reverse'}}>\n        <Text style={{fontSize: spacing.xl}}>\n          {translate('settings.nightMode')}\n        </Text>\n      </View>\n\n      <View style={{paddingHorizontal: 20}}>\n        <Radio\n          label={translate('settings.active')}\n          onPress={() => handleNight('active')}\n          selected={selectedMode === 'active'}\n        />\n        <Radio\n          label={translate('settings.deactive')}\n          onPress={() => handleNight('deactive')}\n          selected={selectedMode === 'deactive'}\n        />\n      </View>\n    </View>\n  );\n});\n\nexport default SettingScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}