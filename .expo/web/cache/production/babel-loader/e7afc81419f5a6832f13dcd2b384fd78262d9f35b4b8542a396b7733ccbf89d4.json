{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _core=require(\"../core\");var _FrameCallbackRegistryUI=require(\"./FrameCallbackRegistryUI\");function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}var _worklet_9769030538367_init_data={code:\"function anonymous(){const{callback,callbackId}=this.__closure;global._frameCallbackRegistry.registerFrameCallback(callback,callbackId);}\"};var _worklet_3563696229796_init_data={code:\"function anonymous(){const{callbackId}=this.__closure;global._frameCallbackRegistry.unregisterFrameCallback(callbackId);}\"};var _worklet_12225017345728_init_data={code:\"function anonymous(){const{callbackId,state}=this.__closure;global._frameCallbackRegistry.manageStateFrameCallback(callbackId,state);}\"};var FrameCallbackRegistryJS=exports.default=function(){function FrameCallbackRegistryJS(){(0,_classCallCheck2.default)(this,FrameCallbackRegistryJS);_defineProperty(this,\"nextCallbackId\",0);(0,_FrameCallbackRegistryUI.prepareUIRegistry)();}(0,_createClass2.default)(FrameCallbackRegistryJS,[{key:\"registerFrameCallback\",value:function registerFrameCallback(callback){if(!callback){return-1;}var callbackId=this.nextCallbackId;this.nextCallbackId++;(0,_core.runOnUI)(function(){var anonymous=function anonymous(){global._frameCallbackRegistry.registerFrameCallback(callback,callbackId);};anonymous.__closure={callback:callback,callbackId:callbackId};anonymous.__initData=_worklet_9769030538367_init_data;anonymous.__workletHash=9769030538367;return anonymous;}())();return callbackId;}},{key:\"unregisterFrameCallback\",value:function unregisterFrameCallback(callbackId){(0,_core.runOnUI)(function(){var anonymous=function anonymous(){global._frameCallbackRegistry.unregisterFrameCallback(callbackId);};anonymous.__closure={callbackId:callbackId};anonymous.__initData=_worklet_3563696229796_init_data;anonymous.__workletHash=3563696229796;return anonymous;}())();}},{key:\"manageStateFrameCallback\",value:function manageStateFrameCallback(callbackId,state){(0,_core.runOnUI)(function(){var anonymous=function anonymous(){global._frameCallbackRegistry.manageStateFrameCallback(callbackId,state);};anonymous.__closure={callbackId:callbackId,state:state};anonymous.__initData=_worklet_12225017345728_init_data;anonymous.__workletHash=12225017345728;return anonymous;}())();}}]);return FrameCallbackRegistryJS;}();","map":{"version":3,"names":["_core","require","_FrameCallbackRegistryUI","FrameCallbackRegistryJS","exports","default","_classCallCheck2","_defineProperty","prepareUIRegistry","_createClass2","key","value","registerFrameCallback","callback","callbackId","nextCallbackId","runOnUI","anonymous","global","_frameCallbackRegistry","__closure","unregisterFrameCallback","manageStateFrameCallback","state"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/frameCallback/FrameCallbackRegistryJS.ts"],"sourcesContent":["import { runOnUI } from '../core';\nimport type { FrameInfo } from './FrameCallbackRegistryUI';\nimport { prepareUIRegistry } from './FrameCallbackRegistryUI';\n\nexport default class FrameCallbackRegistryJS {\n  private nextCallbackId = 0;\n\n  constructor() {\n    prepareUIRegistry();\n  }\n\n  registerFrameCallback(callback: (frameInfo: FrameInfo) => void): number {\n    if (!callback) {\n      return -1;\n    }\n\n    const callbackId = this.nextCallbackId;\n    this.nextCallbackId++;\n\n    runOnUI(() => {\n      global._frameCallbackRegistry.registerFrameCallback(callback, callbackId);\n    })();\n\n    return callbackId;\n  }\n\n  unregisterFrameCallback(callbackId: number): void {\n    runOnUI(() => {\n      global._frameCallbackRegistry.unregisterFrameCallback(callbackId);\n    })();\n  }\n\n  manageStateFrameCallback(callbackId: number, state: boolean): void {\n    runOnUI(() => {\n      global._frameCallbackRegistry.manageStateFrameCallback(callbackId, state);\n    })();\n  }\n}\n"],"mappings":"yVAAA,IAAAA,KAAA,CAAAC,OAAA,YAEA,IAAAC,wBAAA,CAAAD,OAAA,8B,qqCAEqB,CAAAE,uBAAuB,CAAAC,OAAA,CAAAC,OAAA,YAG1C,SAAAF,wBAAA,CAAc,IAAAG,gBAAA,CAAAD,OAAA,OAAAF,uBAAA,EAAAI,eAAA,uBAFW,CAAC,EAGxB,GAAAC,0CAAiB,GAAE,CACrB,IAAAC,aAAA,CAAAJ,OAAA,EAAAF,uBAAA,GAAAO,GAAA,yBAAAC,KAAA,CAEA,SAAAC,sBAAsBC,QAAwC,CAAU,CACtE,GAAI,CAACA,QAAQ,CAAE,CACb,MAAO,CAAC,CAAC,CACX,CAEA,GAAM,CAAAC,UAAU,CAAG,IAAI,CAACC,cAAc,CACtC,IAAI,CAACA,cAAc,EAAE,CAErB,GAAAC,aAAO,iBAAAC,SAAA,UAAAA,UAAA,CAAO,CACZC,MAAM,CAACC,sBAAsB,CAACP,qBAAqB,CAACC,QAAQ,CAAEC,UAAU,CAAC,CAC3E,CAAC,CAAAG,SAAA,CAAAG,SAAA,EAAAP,QAAA,C,gJAAA,CAAC,EAAE,CAEJ,MAAO,CAAAC,UAAU,CACnB,IAAAJ,GAAA,2BAAAC,KAAA,CAEA,SAAAU,wBAAwBP,UAAkB,CAAQ,CAChD,GAAAE,aAAO,iBAAAC,SAAA,UAAAA,UAAA,CAAO,CACZC,MAAM,CAACC,sBAAsB,CAACE,uBAAuB,CAACP,UAAU,CAAC,CACnE,CAAC,CAAAG,SAAA,CAAAG,SAAA,EAAAN,UAAA,C,4HAAA,CAAC,EAAE,CACN,IAAAJ,GAAA,4BAAAC,KAAA,CAEA,SAAAW,yBAAyBR,UAAkB,CAAES,KAAc,CAAQ,CACjE,GAAAP,aAAO,iBAAAC,SAAA,UAAAA,UAAA,CAAO,CACZC,MAAM,CAACC,sBAAsB,CAACG,wBAAwB,CAACR,UAAU,CAAES,KAAK,CAAC,CAC3E,CAAC,CAAAN,SAAA,CAAAG,SAAA,EAAAN,UAAA,C,0IAAA,CAAC,EAAE,CACN,YAAAX,uBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}