{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;exports.hide=hide;exports.isVisible=isVisible;exports.useHideAnimation=useHideAnimation;var _extends2=_interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));var _react=require(\"react\");var _reactNative=require(\"react-native\");var _NativeRNBootSplash=_interopRequireDefault(require(\"./NativeRNBootSplash\"));function hide(){var config=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _config$fade=config.fade,fade=_config$fade===void 0?false:_config$fade;return _NativeRNBootSplash.default.hide(fade).then(function(){});}function isVisible(){return _NativeRNBootSplash.default.isVisible();}function useHideAnimation(config){var _manifest$brand,_manifest$brand2,_manifest$brand3;var manifest=config.manifest,logoSrc=config.logo,darkLogoSrc=config.darkLogo,brandSrc=config.brand,darkBrandSrc=config.darkBrand,animate=config.animate,_config$statusBarTran=config.statusBarTranslucent,statusBarTranslucent=_config$statusBarTran===void 0?false:_config$statusBarTran,_config$navigationBar=config.navigationBarTranslucent,navigationBarTranslucent=_config$navigationBar===void 0?false:_config$navigationBar;var skipLogo=logoSrc==null;var skipBrand=manifest.brand==null||brandSrc==null;var logoWidth=manifest.logo.width;var logoHeight=manifest.logo.height;var brandBottom=(_manifest$brand=manifest.brand)==null?void 0:_manifest$brand.bottom;var brandWidth=(_manifest$brand2=manifest.brand)==null?void 0:_manifest$brand2.width;var brandHeight=(_manifest$brand3=manifest.brand)==null?void 0:_manifest$brand3.height;var colorScheme=(0,_reactNative.useColorScheme)();var backgroundColor=colorScheme===\"dark\"&&manifest.darkBackground!=null?manifest.darkBackground:manifest.background;var logoFinalSrc=skipLogo?undefined:colorScheme===\"dark\"&&darkLogoSrc!=null?darkLogoSrc:logoSrc;var brandFinalSrc=skipBrand?undefined:colorScheme===\"dark\"&&darkBrandSrc!=null?darkBrandSrc:brandSrc;var animateFn=(0,_react.useRef)(animate);var layoutReady=(0,_react.useRef)(false);var logoReady=(0,_react.useRef)(skipLogo);var brandReady=(0,_react.useRef)(skipBrand);var animateHasBeenCalled=(0,_react.useRef)(false);(0,_react.useEffect)(function(){animateFn.current=animate;});var maybeRunAnimate=(0,_react.useCallback)(function(){if(layoutReady.current&&logoReady.current&&brandReady.current&&!animateHasBeenCalled.current){animateHasBeenCalled.current=true;hide({fade:false}).then(function(){return animateFn.current();}).catch(function(){});}},[]);return(0,_react.useMemo)(function(){var containerStyle=(0,_extends2.default)({},_reactNative.StyleSheet.absoluteFillObject,{backgroundColor:backgroundColor,alignItems:\"center\",justifyContent:\"center\"});var container={style:containerStyle,onLayout:function onLayout(){layoutReady.current=true;maybeRunAnimate();}};var logo=logoFinalSrc==null?{source:-1}:{fadeDuration:0,resizeMode:\"contain\",source:logoFinalSrc,style:{width:logoWidth,height:logoHeight},onLoadEnd:function onLoadEnd(){logoReady.current=true;maybeRunAnimate();}};var brand=brandFinalSrc==null?{source:-1}:{fadeDuration:0,resizeMode:\"contain\",source:brandFinalSrc,style:{position:\"absolute\",bottom:_reactNative.Platform.OS===\"web\"?60:brandBottom,width:brandWidth,height:brandHeight},onLoadEnd:function onLoadEnd(){brandReady.current=true;maybeRunAnimate();}};if(_reactNative.Platform.OS!==\"android\"){return{container:container,logo:logo,brand:brand};}var _NativeModule$getCons=_NativeRNBootSplash.default.getConstants(),logoSizeRatio=_NativeModule$getCons.logoSizeRatio,navigationBarHeight=_NativeModule$getCons.navigationBarHeight,statusBarHeight=_NativeModule$getCons.statusBarHeight;return{container:(0,_extends2.default)({},container,{style:(0,_extends2.default)({},containerStyle,{marginTop:statusBarTranslucent?undefined:-statusBarHeight,marginBottom:navigationBarTranslucent?undefined:-navigationBarHeight})}),logo:(0,_extends2.default)({},logo,{style:{width:logoWidth*logoSizeRatio,height:logoHeight*logoSizeRatio}}),brand:brand};},[maybeRunAnimate,logoWidth,logoHeight,brandBottom,brandWidth,brandHeight,backgroundColor,logoFinalSrc,brandFinalSrc,statusBarTranslucent,navigationBarTranslucent]);}var _default=exports.default={hide:hide,isVisible:isVisible,useHideAnimation:useHideAnimation};","map":{"version":3,"names":["_react","require","_reactNative","_NativeRNBootSplash","_interopRequireDefault","hide","config","arguments","length","undefined","_config$fade","fade","NativeModule","then","isVisible","useHideAnimation","_manifest$brand","_manifest$brand2","_manifest$brand3","manifest","logoSrc","logo","darkLogoSrc","darkLogo","brandSrc","brand","darkBrandSrc","darkBrand","animate","_config$statusBarTran","statusBarTranslucent","_config$navigationBar","navigationBarTranslucent","skipLogo","skipBrand","logoWidth","width","logoHeight","height","brandBottom","bottom","brandWidth","brandHeight","colorScheme","useColorScheme","backgroundColor","darkBackground","background","logoFinalSrc","brandFinalSrc","animateFn","useRef","layoutReady","logoReady","brandReady","animateHasBeenCalled","useEffect","current","maybeRunAnimate","useCallback","catch","useMemo","containerStyle","_extends2","default","StyleSheet","absoluteFillObject","alignItems","justifyContent","container","style","onLayout","source","fadeDuration","resizeMode","onLoadEnd","position","Platform","OS","_NativeModule$getCons","getConstants","logoSizeRatio","navigationBarHeight","statusBarHeight","marginTop","marginBottom","_default","exports"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-bootsplash/src/index.ts"],"sourcesContent":["import { useCallback, useEffect, useMemo, useRef } from \"react\";\nimport {\n  ImageProps,\n  ImageRequireSource,\n  Platform,\n  StyleSheet,\n  ViewProps,\n  ViewStyle,\n  useColorScheme,\n} from \"react-native\";\nimport NativeModule from \"./NativeRNBootSplash\";\n\nexport type Config = {\n  fade?: boolean;\n};\n\nexport type Manifest = {\n  background: string;\n  darkBackground?: string;\n  logo: {\n    width: number;\n    height: number;\n  };\n  brand?: {\n    bottom: number;\n    width: number;\n    height: number;\n  };\n};\n\nexport type UseHideAnimationConfig = {\n  manifest: Manifest;\n\n  logo?: ImageRequireSource;\n  darkLogo?: ImageRequireSource;\n  brand?: ImageRequireSource;\n  darkBrand?: ImageRequireSource;\n\n  animate: () => void;\n\n  statusBarTranslucent?: boolean;\n  navigationBarTranslucent?: boolean;\n};\n\nexport type UseHideAnimation = {\n  container: ViewProps;\n  logo: ImageProps;\n  brand: ImageProps;\n};\n\nexport function hide(config: Config = {}): Promise<void> {\n  const { fade = false } = config;\n  return NativeModule.hide(fade).then(() => {});\n}\n\nexport function isVisible(): Promise<boolean> {\n  return NativeModule.isVisible();\n}\n\nexport function useHideAnimation(config: UseHideAnimationConfig) {\n  const {\n    manifest,\n\n    logo: logoSrc,\n    darkLogo: darkLogoSrc,\n    brand: brandSrc,\n    darkBrand: darkBrandSrc,\n\n    animate,\n\n    statusBarTranslucent = false,\n    navigationBarTranslucent = false,\n  } = config;\n\n  const skipLogo = logoSrc == null;\n  const skipBrand = manifest.brand == null || brandSrc == null;\n\n  const logoWidth = manifest.logo.width;\n  const logoHeight = manifest.logo.height;\n  const brandBottom = manifest.brand?.bottom;\n  const brandWidth = manifest.brand?.width;\n  const brandHeight = manifest.brand?.height;\n\n  const colorScheme = useColorScheme();\n\n  const backgroundColor: string =\n    colorScheme === \"dark\" && manifest.darkBackground != null\n      ? manifest.darkBackground\n      : manifest.background;\n\n  const logoFinalSrc: ImageRequireSource | undefined = skipLogo\n    ? undefined\n    : colorScheme === \"dark\" && darkLogoSrc != null\n    ? darkLogoSrc\n    : logoSrc;\n\n  const brandFinalSrc: ImageRequireSource | undefined = skipBrand\n    ? undefined\n    : colorScheme === \"dark\" && darkBrandSrc != null\n    ? darkBrandSrc\n    : brandSrc;\n\n  const animateFn = useRef(animate);\n  const layoutReady = useRef(false);\n  const logoReady = useRef(skipLogo);\n  const brandReady = useRef(skipBrand);\n  const animateHasBeenCalled = useRef(false);\n\n  useEffect(() => {\n    animateFn.current = animate;\n  });\n\n  const maybeRunAnimate = useCallback(() => {\n    if (\n      layoutReady.current &&\n      logoReady.current &&\n      brandReady.current &&\n      !animateHasBeenCalled.current\n    ) {\n      animateHasBeenCalled.current = true;\n\n      hide({ fade: false })\n        .then(() => animateFn.current())\n        .catch(() => {});\n    }\n  }, []);\n\n  return useMemo<UseHideAnimation>(() => {\n    const containerStyle: ViewStyle = {\n      ...StyleSheet.absoluteFillObject,\n      backgroundColor,\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    };\n\n    const container: ViewProps = {\n      style: containerStyle,\n      onLayout: () => {\n        layoutReady.current = true;\n        maybeRunAnimate();\n      },\n    };\n\n    const logo: ImageProps =\n      logoFinalSrc == null\n        ? { source: -1 }\n        : {\n            fadeDuration: 0,\n            resizeMode: \"contain\",\n            source: logoFinalSrc,\n            style: {\n              width: logoWidth,\n              height: logoHeight,\n            },\n            onLoadEnd: () => {\n              logoReady.current = true;\n              maybeRunAnimate();\n            },\n          };\n\n    const brand: ImageProps =\n      brandFinalSrc == null\n        ? { source: -1 }\n        : {\n            fadeDuration: 0,\n            resizeMode: \"contain\",\n            source: brandFinalSrc,\n            style: {\n              position: \"absolute\",\n              bottom: Platform.OS === \"web\" ? 60 : brandBottom,\n              width: brandWidth,\n              height: brandHeight,\n            },\n            onLoadEnd: () => {\n              brandReady.current = true;\n              maybeRunAnimate();\n            },\n          };\n\n    if (Platform.OS !== \"android\") {\n      return { container, logo, brand };\n    }\n\n    const { logoSizeRatio, navigationBarHeight, statusBarHeight } =\n      NativeModule.getConstants();\n\n    return {\n      container: {\n        ...container,\n        style: {\n          ...containerStyle,\n          marginTop: statusBarTranslucent ? undefined : -statusBarHeight,\n          marginBottom: navigationBarTranslucent\n            ? undefined\n            : -navigationBarHeight,\n        },\n      },\n      logo: {\n        ...logo,\n        style: {\n          width: logoWidth * logoSizeRatio,\n          height: logoHeight * logoSizeRatio,\n        },\n      },\n      brand,\n    };\n  }, [\n    maybeRunAnimate,\n\n    logoWidth,\n    logoHeight,\n    brandBottom,\n    brandWidth,\n    brandHeight,\n\n    backgroundColor,\n    logoFinalSrc,\n    brandFinalSrc,\n\n    statusBarTranslucent,\n    navigationBarTranslucent,\n  ]);\n}\n\nexport default {\n  hide,\n  isVisible,\n  useHideAnimation,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}