{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.withTiming=void 0;var _Easing=require(\"../Easing\");var _util=require(\"./util\");var _worklet_4043745077159_init_data={code:\"function withTiming(toValue,userConfig,callback){const{defineAnimation,Easing}=this._closure;return defineAnimation(toValue,function(){'worklet';const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function timing(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:timing,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};});}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/animation/timing.js\"};var _worklet_15160447332488_init_data={code:\"function anonymous(){const{Easing,userConfig,toValue,callback}=this._closure;const config={duration:300,easing:Easing.inOut(Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function timing(animation,now){const{toValue:toValue,startTime:startTime,startValue:startValue}=animation;const runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}const progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:timing,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function(){return 0;},current:toValue,callback:callback};}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/animation/timing.js\"};var withTiming=exports.withTiming=function(){var _f=function _f(toValue,userConfig,callback){return(0,_util.defineAnimation)(toValue,function(){var _f=function _f(){var config={duration:300,easing:_Easing.Easing.inOut(_Easing.Easing.quad)};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function timing(animation,now){var toValue=animation.toValue,startTime=animation.startTime,startValue=animation.startValue;var runtime=now-startTime;if(runtime>=config.duration){animation.startTime=0;animation.current=toValue;return true;}var progress=animation.easing(runtime/config.duration);animation.current=startValue+(toValue-startValue)*progress;return false;}function onStart(animation,value,now,previousAnimation){if(previousAnimation&&previousAnimation.type==='timing'&&previousAnimation.toValue===toValue&&previousAnimation.startTime){animation.startTime=previousAnimation.startTime;animation.startValue=previousAnimation.startValue;}else{animation.startTime=now;animation.startValue=value;}animation.current=value;if(typeof config.easing==='object'){animation.easing=config.easing.factory();}else{animation.easing=config.easing;}}return{type:'timing',onFrame:timing,onStart:onStart,progress:0,toValue:toValue,startValue:0,startTime:0,easing:function easing(){return 0;},current:toValue,callback:callback};};_f._closure={Easing:_Easing.Easing,userConfig:userConfig,toValue:toValue,callback:callback};_f.__initData=_worklet_15160447332488_init_data;_f.__workletHash=15160447332488;return _f;}());};_f._closure={defineAnimation:_util.defineAnimation,Easing:_Easing.Easing};_f.__initData=_worklet_4043745077159_init_data;_f.__workletHash=4043745077159;return _f;}();","map":{"version":3,"names":["_Easing","require","_util","_worklet_4043745077159_init_data","code","location","_worklet_15160447332488_init_data","withTiming","exports","_f","toValue","userConfig","callback","defineAnimation","config","duration","easing","Easing","inOut","quad","Object","keys","forEach","key","timing","animation","now","startTime","startValue","runtime","current","progress","onStart","value","previousAnimation","type","factory","onFrame","_closure","__initData","__workletHash"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/animation/timing.ts"],"sourcesContent":["import { Easing, EasingFn, EasingFactoryFn } from '../Easing';\nimport { defineAnimation } from './util';\nimport {\n  Animation,\n  AnimationCallback,\n  Timestamp,\n  AnimatableValue,\n} from '../commonTypes';\n\ninterface TimingConfig {\n  duration?: number;\n  easing?: EasingFn | EasingFactoryFn;\n}\n\nexport interface TimingAnimation extends Animation<TimingAnimation> {\n  type: string;\n  easing: EasingFn;\n  startValue: AnimatableValue;\n  startTime: Timestamp;\n  progress: number;\n  toValue: AnimatableValue;\n  current: AnimatableValue;\n}\n\nexport interface InnerTimingAnimation\n  extends Omit<TimingAnimation, 'toValue' | 'current'> {\n  toValue: number;\n  current: number;\n}\n\nexport function withTiming(\n  toValue: AnimatableValue,\n  userConfig?: TimingConfig,\n  callback?: AnimationCallback\n): Animation<TimingAnimation> {\n  'worklet';\n\n  return defineAnimation<TimingAnimation>(toValue, () => {\n    'worklet';\n    const config: Required<TimingConfig> = {\n      duration: 300,\n      easing: Easing.inOut(Easing.quad),\n    };\n    if (userConfig) {\n      Object.keys(userConfig).forEach(\n        (key) =>\n          ((config as any)[key] = userConfig[key as keyof typeof userConfig])\n      );\n    }\n\n    function timing(animation: InnerTimingAnimation, now: Timestamp): boolean {\n      const { toValue, startTime, startValue } = animation;\n      const runtime = now - startTime;\n\n      if (runtime >= config.duration) {\n        // reset startTime to avoid reusing finished animation config in `start` method\n        animation.startTime = 0;\n        animation.current = toValue;\n        return true;\n      }\n      const progress = animation.easing(runtime / config.duration);\n      animation.current =\n        (startValue as number) + (toValue - (startValue as number)) * progress;\n      return false;\n    }\n\n    function onStart(\n      animation: TimingAnimation,\n      value: number,\n      now: Timestamp,\n      previousAnimation: Animation<TimingAnimation>\n    ): void {\n      if (\n        previousAnimation &&\n        (previousAnimation as TimingAnimation).type === 'timing' &&\n        (previousAnimation as TimingAnimation).toValue === toValue &&\n        (previousAnimation as TimingAnimation).startTime\n      ) {\n        // to maintain continuity of timing animations we check if we are starting\n        // new timing over the old one with the same parameters. If so, we want\n        // to copy animation timeline properties\n        animation.startTime = (previousAnimation as TimingAnimation).startTime;\n        animation.startValue = (\n          previousAnimation as TimingAnimation\n        ).startValue;\n      } else {\n        animation.startTime = now;\n        animation.startValue = value;\n      }\n      animation.current = value;\n      if (typeof config.easing === 'object') {\n        animation.easing = config.easing.factory();\n      } else {\n        animation.easing = config.easing;\n      }\n    }\n\n    return {\n      type: 'timing',\n      onFrame: timing,\n      onStart: onStart as (animation: TimingAnimation, now: number) => boolean,\n      progress: 0,\n      toValue,\n      startValue: 0,\n      startTime: 0,\n      easing: () => 0,\n      current: toValue,\n      callback,\n    } as TimingAnimation;\n  });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}