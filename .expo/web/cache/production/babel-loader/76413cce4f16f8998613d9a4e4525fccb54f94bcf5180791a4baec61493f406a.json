{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.useGestureHandler=void 0;var _reactNativeReanimated=require(\"react-native-reanimated\");var _reactNativeGestureHandler=require(\"react-native-gesture-handler\");var _constants=require(\"../constants\");var _worklet_4683558169191_init_data={code:\"function anonymous(context){Object.keys(context).map(function(key){context[key]=undefined;});}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useGestureHandler.js\"};var resetContext=function(){var _f=function _f(context){Object.keys(context).map(function(key){context[key]=undefined;});};_f._closure={};_f.__initData=_worklet_4683558169191_init_data;_f.__workletHash=4683558169191;return _f;}();var _worklet_1599692815286_init_data={code:\"function anonymous(payload,context){const{state,State,gestureSource,type,handleOnStart,handleOnActive}=this._closure;if(!context.didStart){context.didStart=true;state.value=State.BEGAN;gestureSource.value=type;handleOnStart(type,payload,context);return;}if(gestureSource.value!==type){return;}state.value=payload.state;handleOnActive(type,payload,context);}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useGestureHandler.js\"};var _worklet_7100877435449_init_data={code:\"function anonymous(payload,context){const{gestureSource,type,state,GESTURE_SOURCE,handleOnEnd,resetContext}=this._closure;if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=GESTURE_SOURCE.UNDETERMINED;handleOnEnd(type,payload,context);resetContext(context);}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useGestureHandler.js\"};var _worklet_7651271182758_init_data={code:\"function anonymous(payload,context){const{gestureSource,type,state,GESTURE_SOURCE,resetContext}=this._closure;if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=GESTURE_SOURCE.UNDETERMINED;resetContext(context);}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useGestureHandler.js\"};var _worklet_7651271182758_init_data2={code:\"function anonymous(payload,context){const{gestureSource,type,state,GESTURE_SOURCE,resetContext}=this._closure;if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=GESTURE_SOURCE.UNDETERMINED;resetContext(context);}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useGestureHandler.js\"};var _worklet_7651271182758_init_data3={code:\"function anonymous(payload,context){const{gestureSource,type,state,GESTURE_SOURCE,resetContext}=this._closure;if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=GESTURE_SOURCE.UNDETERMINED;resetContext(context);}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/hooks/useGestureHandler.js\"};var useGestureHandler=exports.useGestureHandler=function useGestureHandler(type,state,gestureSource,handleOnStart,handleOnActive,handleOnEnd){var gestureHandler=(0,_reactNativeReanimated.useAnimatedGestureHandler)({onActive:function(){var _f=function _f(payload,context){if(!context.didStart){context.didStart=true;state.value=_reactNativeGestureHandler.State.BEGAN;gestureSource.value=type;handleOnStart(type,payload,context);return;}if(gestureSource.value!==type){return;}state.value=payload.state;handleOnActive(type,payload,context);};_f._closure={state:state,State:_reactNativeGestureHandler.State,gestureSource:gestureSource,type:type,handleOnStart:handleOnStart,handleOnActive:handleOnActive};_f.__initData=_worklet_1599692815286_init_data;_f.__workletHash=1599692815286;return _f;}(),onEnd:function(){var _f=function _f(payload,context){if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=_constants.GESTURE_SOURCE.UNDETERMINED;handleOnEnd(type,payload,context);resetContext(context);};_f._closure={gestureSource:gestureSource,type:type,state:state,GESTURE_SOURCE:_constants.GESTURE_SOURCE,handleOnEnd:handleOnEnd,resetContext:resetContext};_f.__initData=_worklet_7100877435449_init_data;_f.__workletHash=7100877435449;return _f;}(),onCancel:function(){var _f=function _f(payload,context){if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=_constants.GESTURE_SOURCE.UNDETERMINED;resetContext(context);};_f._closure={gestureSource:gestureSource,type:type,state:state,GESTURE_SOURCE:_constants.GESTURE_SOURCE,resetContext:resetContext};_f.__initData=_worklet_7651271182758_init_data;_f.__workletHash=7651271182758;return _f;}(),onFail:function(){var _f=function _f(payload,context){if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=_constants.GESTURE_SOURCE.UNDETERMINED;resetContext(context);};_f._closure={gestureSource:gestureSource,type:type,state:state,GESTURE_SOURCE:_constants.GESTURE_SOURCE,resetContext:resetContext};_f.__initData=_worklet_7651271182758_init_data2;_f.__workletHash=7651271182758;return _f;}(),onFinish:function(){var _f=function _f(payload,context){if(gestureSource.value!==type){return;}state.value=payload.state;gestureSource.value=_constants.GESTURE_SOURCE.UNDETERMINED;resetContext(context);};_f._closure={gestureSource:gestureSource,type:type,state:state,GESTURE_SOURCE:_constants.GESTURE_SOURCE,resetContext:resetContext};_f.__initData=_worklet_7651271182758_init_data3;_f.__workletHash=7651271182758;return _f;}()},[type,state,handleOnStart,handleOnActive,handleOnEnd]);return gestureHandler;};","map":{"version":3,"names":["_reactNativeReanimated","require","_reactNativeGestureHandler","_constants","_worklet_4683558169191_init_data","code","location","resetContext","_f","context","Object","keys","map","key","undefined","_closure","__initData","__workletHash","_worklet_1599692815286_init_data","_worklet_7100877435449_init_data","_worklet_7651271182758_init_data","_worklet_7651271182758_init_data2","_worklet_7651271182758_init_data3","useGestureHandler","exports","type","state","gestureSource","handleOnStart","handleOnActive","handleOnEnd","gestureHandler","useAnimatedGestureHandler","onActive","payload","didStart","value","State","BEGAN","onEnd","GESTURE_SOURCE","UNDETERMINED","onCancel","onFail","onFinish"],"sources":["/Users/shayan/workspace/godfather/node_modules/@gorhom/bottom-sheet/lib/module/hooks/useGestureHandler.ts"],"sourcesContent":["import Animated, { useAnimatedGestureHandler } from 'react-native-reanimated';\nimport {\n  State,\n  PanGestureHandlerGestureEvent,\n} from 'react-native-gesture-handler';\nimport { GESTURE_SOURCE } from '../constants';\nimport type {\n  GestureEventContextType,\n  GestureEventHandlerCallbackType,\n} from '../types';\n\nconst resetContext = (context: any) => {\n  'worklet';\n\n  Object.keys(context).map(key => {\n    context[key] = undefined;\n  });\n};\n\nexport const useGestureHandler = (\n  type: GESTURE_SOURCE,\n  state: Animated.SharedValue<State>,\n  gestureSource: Animated.SharedValue<GESTURE_SOURCE>,\n  handleOnStart: GestureEventHandlerCallbackType,\n  handleOnActive: GestureEventHandlerCallbackType,\n  handleOnEnd: GestureEventHandlerCallbackType\n): ((event: PanGestureHandlerGestureEvent) => void) => {\n  const gestureHandler = useAnimatedGestureHandler<\n    PanGestureHandlerGestureEvent,\n    GestureEventContextType\n  >(\n    {\n      onActive: (payload, context) => {\n        if (!context.didStart) {\n          context.didStart = true;\n\n          state.value = State.BEGAN;\n          gestureSource.value = type;\n\n          handleOnStart(type, payload, context);\n          return;\n        }\n\n        if (gestureSource.value !== type) {\n          return;\n        }\n\n        state.value = payload.state;\n        handleOnActive(type, payload, context);\n      },\n      onEnd: (payload, context) => {\n        if (gestureSource.value !== type) {\n          return;\n        }\n\n        state.value = payload.state;\n        gestureSource.value = GESTURE_SOURCE.UNDETERMINED;\n\n        handleOnEnd(type, payload, context);\n        resetContext(context);\n      },\n      onCancel: (payload, context) => {\n        if (gestureSource.value !== type) {\n          return;\n        }\n\n        state.value = payload.state;\n        gestureSource.value = GESTURE_SOURCE.UNDETERMINED;\n\n        resetContext(context);\n      },\n      onFail: (payload, context) => {\n        if (gestureSource.value !== type) {\n          return;\n        }\n\n        state.value = payload.state;\n        gestureSource.value = GESTURE_SOURCE.UNDETERMINED;\n\n        resetContext(context);\n      },\n      onFinish: (payload, context) => {\n        if (gestureSource.value !== type) {\n          return;\n        }\n\n        state.value = payload.state;\n        gestureSource.value = GESTURE_SOURCE.UNDETERMINED;\n\n        resetContext(context);\n      },\n    },\n    [type, state, handleOnStart, handleOnActive, handleOnEnd]\n  );\n  return gestureHandler;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}