{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));var _react=_interopRequireWildcard(require(\"react\"));var _reactNative=require(\"react-native\");var _reactNativeReanimated=_interopRequireWildcard(require(\"react-native-reanimated\"));var _constants=require(\"../../constants\");var _hooks=require(\"../../hooks\");var _utilities=require(\"../../utilities\");var _excluded=[\"focusHook\",\"enableFooterMarginAdjustment\",\"onLayout\",\"style\",\"children\"];function _getRequireWildcardCache(e){if(\"function\"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if(\"default\"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}var _worklet_15765977744260_init_data={code:\"function anonymous(){const{enableFooterMarginAdjustment,animatedFooterHeight,containerStylePaddingBottom}=this._closure;return{paddingBottom:enableFooterMarginAdjustment?animatedFooterHeight.value+containerStylePaddingBottom:containerStylePaddingBottom};}\",location:\"node_modules/@gorhom/bottom-sheet/lib/module/components/bottomSheetView/BottomSheetView.js\"};function BottomSheetViewComponent(_ref){var _ref$focusHook=_ref.focusHook,useFocusHook=_ref$focusHook===void 0?_react.useEffect:_ref$focusHook,_ref$enableFooterMarg=_ref.enableFooterMarginAdjustment,enableFooterMarginAdjustment=_ref$enableFooterMarg===void 0?false:_ref$enableFooterMarg,onLayout=_ref.onLayout,style=_ref.style,children=_ref.children,rest=(0,_objectWithoutProperties2.default)(_ref,_excluded);var _useBottomSheetIntern=(0,_hooks.useBottomSheetInternal)(),animatedScrollableContentOffsetY=_useBottomSheetIntern.animatedScrollableContentOffsetY,animatedScrollableType=_useBottomSheetIntern.animatedScrollableType,animatedFooterHeight=_useBottomSheetIntern.animatedFooterHeight,enableDynamicSizing=_useBottomSheetIntern.enableDynamicSizing,animatedContentHeight=_useBottomSheetIntern.animatedContentHeight;var containerStylePaddingBottom=(0,_react.useMemo)(function(){var flattenStyle=_reactNative.StyleSheet.flatten(style);var paddingBottom=flattenStyle&&'paddingBottom'in flattenStyle?flattenStyle.paddingBottom:0;return typeof paddingBottom==='number'?paddingBottom:0;},[style]);var containerAnimatedStyle=(0,_reactNativeReanimated.useAnimatedStyle)(function(){var _f=function _f(){return{paddingBottom:enableFooterMarginAdjustment?animatedFooterHeight.value+containerStylePaddingBottom:containerStylePaddingBottom};};_f._closure={enableFooterMarginAdjustment:enableFooterMarginAdjustment,animatedFooterHeight:animatedFooterHeight,containerStylePaddingBottom:containerStylePaddingBottom};_f.__initData=_worklet_15765977744260_init_data;_f.__workletHash=15765977744260;return _f;}(),[containerStylePaddingBottom,enableFooterMarginAdjustment]);var containerStyle=(0,_react.useMemo)(function(){return[style,containerAnimatedStyle];},[style,containerAnimatedStyle]);var handleSettingScrollable=(0,_react.useCallback)(function(){animatedScrollableContentOffsetY.value=0;animatedScrollableType.value=_constants.SCROLLABLE_TYPE.VIEW;},[animatedScrollableContentOffsetY,animatedScrollableType]);var handleLayout=(0,_react.useCallback)(function(event){if(enableDynamicSizing){animatedContentHeight.value=event.nativeEvent.layout.height;}if(onLayout){onLayout(event);}(0,_utilities.print)({component:BottomSheetView.displayName,method:'handleLayout',params:{height:event.nativeEvent.layout.height}});},[onLayout,animatedContentHeight,enableDynamicSizing]);useFocusHook(handleSettingScrollable);return _react.default.createElement(_reactNativeReanimated.default.View,_extends({onLayout:handleLayout,style:containerStyle},rest),children);}var BottomSheetView=(0,_react.memo)(BottomSheetViewComponent);BottomSheetView.displayName='BottomSheetView';var _default=exports.default=BottomSheetView;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeReanimated","_constants","_hooks","_utilities","_excluded","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","BottomSheetViewComponent","_ref","_ref$focusHook","focusHook","useFocusHook","useEffect","_ref$enableFooterMarg","enableFooterMarginAdjustment","onLayout","style","children","rest","_objectWithoutProperties2","_useBottomSheetIntern","useBottomSheetInternal","animatedScrollableContentOffsetY","animatedScrollableType","animatedFooterHeight","enableDynamicSizing","animatedContentHeight","containerStylePaddingBottom","useMemo","flattenStyle","StyleSheet","flatten","paddingBottom","containerAnimatedStyle","useAnimatedStyle","_f","value","_closure","containerStyle","handleSettingScrollable","useCallback","SCROLLABLE_TYPE","VIEW","handleLayout","event","nativeEvent","layout","height","print","component","BottomSheetView","displayName","method","params","React","createElement","Animated","View","_extends","memo","_default","exports"],"sources":["/Users/shayan/workspace/godfather/node_modules/@gorhom/bottom-sheet/lib/module/components/bottomSheetView/BottomSheetView.tsx"],"sourcesContent":["import React, { memo, useEffect, useCallback, useMemo } from 'react';\nimport { LayoutChangeEvent, StyleSheet } from 'react-native';\nimport Animated, { useAnimatedStyle } from 'react-native-reanimated';\nimport { SCROLLABLE_TYPE } from '../../constants';\nimport { useBottomSheetInternal } from '../../hooks';\nimport type { BottomSheetViewProps } from './types';\nimport { print } from '../../utilities';\n\nfunction BottomSheetViewComponent({\n  focusHook: useFocusHook = useEffect,\n  enableFooterMarginAdjustment = false,\n  onLayout,\n  style,\n  children,\n  ...rest\n}: BottomSheetViewProps) {\n  //#region hooks\n  const {\n    animatedScrollableContentOffsetY,\n    animatedScrollableType,\n    animatedFooterHeight,\n    enableDynamicSizing,\n    animatedContentHeight,\n  } = useBottomSheetInternal();\n  //#endregion\n\n  //#region styles\n  const containerStylePaddingBottom = useMemo(() => {\n    const flattenStyle = StyleSheet.flatten(style);\n    const paddingBottom =\n      flattenStyle && 'paddingBottom' in flattenStyle\n        ? flattenStyle.paddingBottom\n        : 0;\n    return typeof paddingBottom === 'number' ? paddingBottom : 0;\n  }, [style]);\n  const containerAnimatedStyle = useAnimatedStyle(\n    () => ({\n      paddingBottom: enableFooterMarginAdjustment\n        ? animatedFooterHeight.value + containerStylePaddingBottom\n        : containerStylePaddingBottom,\n    }),\n    [containerStylePaddingBottom, enableFooterMarginAdjustment]\n  );\n  const containerStyle = useMemo(\n    () => [style, containerAnimatedStyle],\n    [style, containerAnimatedStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleSettingScrollable = useCallback(() => {\n    animatedScrollableContentOffsetY.value = 0;\n    animatedScrollableType.value = SCROLLABLE_TYPE.VIEW;\n  }, [animatedScrollableContentOffsetY, animatedScrollableType]);\n  const handleLayout = useCallback(\n    (event: LayoutChangeEvent) => {\n      if (enableDynamicSizing) {\n        animatedContentHeight.value = event.nativeEvent.layout.height;\n      }\n\n      if (onLayout) {\n        onLayout(event);\n      }\n\n      print({\n        component: BottomSheetView.displayName,\n        method: 'handleLayout',\n        params: {\n          height: event.nativeEvent.layout.height,\n        },\n      });\n    },\n    [onLayout, animatedContentHeight, enableDynamicSizing]\n  );\n  //#endregion\n\n  // effects\n  useFocusHook(handleSettingScrollable);\n\n  //render\n  return (\n    <Animated.View onLayout={handleLayout} style={containerStyle} {...rest}>\n      {children}\n    </Animated.View>\n  );\n}\n\nconst BottomSheetView = memo(BottomSheetViewComponent);\nBottomSheetView.displayName = 'BottomSheetView';\n\nexport default BottomSheetView;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}