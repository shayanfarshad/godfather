{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.BaseAnimationBuilder=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _animation=require(\"../../animation\");function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}var _worklet_16715909471859_init_data={code:\"function anonymous(_,animation){return animation;}\",location:\"node_modules/react-native-reanimated/lib/module/reanimated2/layoutReanimation/animationBuilder/BaseAnimationBuilder.js\"};var BaseAnimationBuilder=exports.BaseAnimationBuilder=function(){function BaseAnimationBuilder(){(0,_classCallCheck2.default)(this,BaseAnimationBuilder);_defineProperty(this,\"durationV\",void 0);_defineProperty(this,\"delayV\",void 0);_defineProperty(this,\"randomizeDelay\",false);_defineProperty(this,\"callbackV\",void 0);_defineProperty(this,\"build\",function(){throw Error('Unimplemented method in child class.');});}(0,_createClass2.default)(BaseAnimationBuilder,[{key:\"duration\",value:function duration(durationMs){this.durationV=durationMs;return this;}},{key:\"delay\",value:function delay(delayMs){this.delayV=delayMs;return this;}},{key:\"withCallback\",value:function withCallback(callback){this.callbackV=callback;return this;}},{key:\"getDuration\",value:function getDuration(){var _this$durationV;return(_this$durationV=this.durationV)!=null?_this$durationV:300;}},{key:\"randomDelay\",value:function randomDelay(){this.randomizeDelay=true;return this;}},{key:\"getDelay\",value:function getDelay(){var _this$delayV,_this$delayV2;return this.randomizeDelay?Math.random()*((_this$delayV=this.delayV)!=null?_this$delayV:1000):(_this$delayV2=this.delayV)!=null?_this$delayV2:0;}},{key:\"getDelayFunction\",value:function getDelayFunction(){var isDelayProvided=this.randomizeDelay||this.delayV;return isDelayProvided?_animation.withDelay:function(){var _f=function _f(_,animation){return animation;};_f._closure={};_f.__initData=_worklet_16715909471859_init_data;_f.__workletHash=16715909471859;return _f;}();}}],[{key:\"duration\",value:function duration(durationMs){var instance=this.createInstance();return instance.duration(durationMs);}},{key:\"delay\",value:function delay(delayMs){var instance=this.createInstance();return instance.delay(delayMs);}},{key:\"withCallback\",value:function withCallback(callback){var instance=this.createInstance();return instance.withCallback(callback);}},{key:\"getDuration\",value:function getDuration(){return 300;}},{key:\"randomDelay\",value:function randomDelay(){var instance=this.createInstance();return instance.randomDelay();}},{key:\"build\",value:function build(){var instance=this.createInstance();return instance.build();}}]);return BaseAnimationBuilder;}();_defineProperty(BaseAnimationBuilder,\"createInstance\",void 0);","map":{"version":3,"names":["_animation","require","BaseAnimationBuilder","exports","_classCallCheck2","default","_defineProperty","Error","_createClass2","key","value","duration","durationMs","durationV","delay","delayMs","delayV","withCallback","callback","callbackV","getDuration","_this$durationV","randomDelay","randomizeDelay","getDelay","_this$delayV","_this$delayV2","Math","random","getDelayFunction","isDelayProvided","withDelay","_f","_","animation","_closure","__initData","_worklet_16715909471859_init_data","__workletHash","instance","createInstance","build"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/layoutReanimation/animationBuilder/BaseAnimationBuilder.ts"],"sourcesContent":["import { withDelay } from '../../animation';\nimport {\n  EntryExitAnimationFunction,\n  AnimationFunction,\n  LayoutAnimationFunction,\n} from './commonTypes';\n\nexport class BaseAnimationBuilder {\n  durationV?: number;\n  delayV?: number;\n  randomizeDelay = false;\n  callbackV?: (finished: boolean) => void;\n\n  static createInstance: () => BaseAnimationBuilder;\n  build = (): EntryExitAnimationFunction | LayoutAnimationFunction => {\n    throw Error('Unimplemented method in child class.');\n  };\n\n  static duration(durationMs: number): BaseAnimationBuilder {\n    const instance = this.createInstance();\n    return instance.duration(durationMs);\n  }\n\n  duration(durationMs: number): BaseAnimationBuilder {\n    this.durationV = durationMs;\n    return this;\n  }\n\n  static delay(delayMs: number): BaseAnimationBuilder {\n    const instance = this.createInstance();\n    return instance.delay(delayMs);\n  }\n\n  delay(delayMs: number): BaseAnimationBuilder {\n    this.delayV = delayMs;\n    return this;\n  }\n\n  static withCallback(\n    callback: (finished: boolean) => void\n  ): BaseAnimationBuilder {\n    const instance = this.createInstance();\n    return instance.withCallback(callback);\n  }\n\n  withCallback(callback: (finsihed: boolean) => void): BaseAnimationBuilder {\n    this.callbackV = callback;\n    return this;\n  }\n\n  // 300ms is the default animation duration. If any animation has different default has to override this method.\n  static getDuration(): number {\n    return 300;\n  }\n\n  getDuration(): number {\n    return this.durationV ?? 300;\n  }\n\n  static randomDelay(): BaseAnimationBuilder {\n    const instance = this.createInstance();\n    return instance.randomDelay();\n  }\n\n  randomDelay(): BaseAnimationBuilder {\n    this.randomizeDelay = true;\n    return this;\n  }\n\n  // when randomizeDelay is set to true, randomize delay between 0 and provided value (or 1000ms if delay is not provided)\n  getDelay(): number {\n    return this.randomizeDelay\n      ? Math.random() * (this.delayV ?? 1000)\n      : this.delayV ?? 0;\n  }\n\n  getDelayFunction(): AnimationFunction {\n    const isDelayProvided = this.randomizeDelay || this.delayV;\n    return isDelayProvided\n      ? withDelay\n      : (_, animation) => {\n          'worklet';\n          return animation;\n        };\n  }\n\n  static build(): EntryExitAnimationFunction | LayoutAnimationFunction {\n    const instance = this.createInstance();\n    return instance.build();\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}