{"ast":null,"code":"var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports.NativeReanimated=void 0;var _classCallCheck2=_interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));var _createClass2=_interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));var _reactNative=require(\"react-native\");var _checkCppVersion=require(\"../platform-specific/checkCppVersion\");var _valueUnpacker=require(\"../valueUnpacker\");function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}var NativeReanimated=exports.NativeReanimated=function(){function NativeReanimated(){(0,_classCallCheck2.default)(this,NativeReanimated);_defineProperty(this,\"native\",true);_defineProperty(this,\"InnerNativeModule\",void 0);if(global.__reanimatedModuleProxy===undefined){var ReanimatedModule=_reactNative.NativeModules.ReanimatedModule;ReanimatedModule===null||ReanimatedModule===void 0?void 0:ReanimatedModule.installTurboModule();}if(global.__reanimatedModuleProxy===undefined){throw new Error(\"[Reanimated] Native part of Reanimated doesn't seem to be initialized.\\nSee https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#Native-part-of-reanimated-doesnt-seem-to-be-initialized for more details.\");}(0,_checkCppVersion.checkCppVersion)();this.InnerNativeModule=global.__reanimatedModuleProxy;this.InnerNativeModule.installValueUnpacker((0,_valueUnpacker.getValueUnpackerCode)());}(0,_createClass2.default)(NativeReanimated,[{key:\"makeShareableClone\",value:function makeShareableClone(value,shouldPersistRemote){return this.InnerNativeModule.makeShareableClone(value,shouldPersistRemote);}},{key:\"makeSynchronizedDataHolder\",value:function makeSynchronizedDataHolder(valueRef){return this.InnerNativeModule.makeSynchronizedDataHolder(valueRef);}},{key:\"getDataSynchronously\",value:function getDataSynchronously(ref){return this.InnerNativeModule.getDataSynchronously(ref);}},{key:\"scheduleOnUI\",value:function scheduleOnUI(shareable){return this.InnerNativeModule.scheduleOnUI(shareable);}},{key:\"createWorkletRuntime\",value:function createWorkletRuntime(name,initializer){return this.InnerNativeModule.createWorkletRuntime(name,initializer);}},{key:\"registerSensor\",value:function registerSensor(sensorType,interval,iosReferenceFrame,handler){return this.InnerNativeModule.registerSensor(sensorType,interval,iosReferenceFrame,handler);}},{key:\"unregisterSensor\",value:function unregisterSensor(sensorId){return this.InnerNativeModule.unregisterSensor(sensorId);}},{key:\"registerEventHandler\",value:function registerEventHandler(eventHandler,eventName,emitterReactTag){return this.InnerNativeModule.registerEventHandler(eventHandler,eventName,emitterReactTag);}},{key:\"unregisterEventHandler\",value:function unregisterEventHandler(id){return this.InnerNativeModule.unregisterEventHandler(id);}},{key:\"getViewProp\",value:function getViewProp(viewTag,propName,callback){return this.InnerNativeModule.getViewProp(viewTag,propName,callback);}},{key:\"configureLayoutAnimation\",value:function configureLayoutAnimation(viewTag,type,sharedTransitionTag,config){this.InnerNativeModule.configureLayoutAnimation(viewTag,type,sharedTransitionTag,config);}},{key:\"enableLayoutAnimations\",value:function enableLayoutAnimations(flag){this.InnerNativeModule.enableLayoutAnimations(flag);}},{key:\"configureProps\",value:function configureProps(uiProps,nativeProps){this.InnerNativeModule.configureProps(uiProps,nativeProps);}},{key:\"subscribeForKeyboardEvents\",value:function subscribeForKeyboardEvents(handler,isStatusBarTranslucent){return this.InnerNativeModule.subscribeForKeyboardEvents(handler,isStatusBarTranslucent);}},{key:\"unsubscribeFromKeyboardEvents\",value:function unsubscribeFromKeyboardEvents(listenerId){this.InnerNativeModule.unsubscribeFromKeyboardEvents(listenerId);}}]);return NativeReanimated;}();","map":{"version":3,"names":["_reactNative","require","_checkCppVersion","_valueUnpacker","NativeReanimated","exports","_classCallCheck2","default","_defineProperty","global","__reanimatedModuleProxy","undefined","ReanimatedModule","NativeModules","installTurboModule","Error","checkCppVersion","InnerNativeModule","installValueUnpacker","getValueUnpackerCode","_createClass2","key","value","makeShareableClone","shouldPersistRemote","makeSynchronizedDataHolder","valueRef","getDataSynchronously","ref","scheduleOnUI","shareable","createWorkletRuntime","name","initializer","registerSensor","sensorType","interval","iosReferenceFrame","handler","unregisterSensor","sensorId","registerEventHandler","eventHandler","eventName","emitterReactTag","unregisterEventHandler","id","getViewProp","viewTag","propName","callback","configureLayoutAnimation","type","sharedTransitionTag","config","enableLayoutAnimations","flag","configureProps","uiProps","nativeProps","subscribeForKeyboardEvents","isStatusBarTranslucent","unsubscribeFromKeyboardEvents","listenerId"],"sources":["/Users/shayan/workspace/godfather/node_modules/react-native-reanimated/lib/module/reanimated2/NativeReanimated/NativeReanimated.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\nimport type {\n  ShareableRef,\n  ShareableSyncDataHolderRef,\n  Value3D,\n  ValueRotation,\n} from '../commonTypes';\nimport type {\n  LayoutAnimationFunction,\n  LayoutAnimationType,\n} from '../layoutReanimation';\nimport { checkCppVersion } from '../platform-specific/checkCppVersion';\nimport type { WorkletRuntime } from '../runtimes';\nimport { getValueUnpackerCode } from '../valueUnpacker';\n\n// this is the type of `__reanimatedModuleProxy` which is injected using JSI\nexport interface NativeReanimatedModule {\n  installValueUnpacker(valueUnpackerCode: string): void;\n  makeShareableClone<T>(\n    value: T,\n    shouldPersistRemote: boolean\n  ): ShareableRef<T>;\n  makeSynchronizedDataHolder<T>(\n    valueRef: ShareableRef<T>\n  ): ShareableSyncDataHolderRef<T>;\n  getDataSynchronously<T>(ref: ShareableSyncDataHolderRef<T>): T;\n  scheduleOnUI<T>(shareable: ShareableRef<T>): void;\n  createWorkletRuntime(\n    name: string,\n    initializer: ShareableRef<() => void>\n  ): WorkletRuntime;\n  registerEventHandler<T>(\n    eventHandler: ShareableRef<T>,\n    eventName: string,\n    emitterReactTag: number\n  ): number;\n  unregisterEventHandler(id: number): void;\n  getViewProp<T>(\n    viewTag: number,\n    propName: string,\n    callback?: (result: T) => void\n  ): Promise<T>;\n  enableLayoutAnimations(flag: boolean): void;\n  registerSensor(\n    sensorType: number,\n    interval: number,\n    iosReferenceFrame: number,\n    handler: ShareableRef<(data: Value3D | ValueRotation) => void>\n  ): number;\n  unregisterSensor(sensorId: number): void;\n  configureProps(uiProps: string[], nativeProps: string[]): void;\n  subscribeForKeyboardEvents(\n    handler: ShareableRef<number>,\n    isStatusBarTranslucent: boolean\n  ): number;\n  unsubscribeFromKeyboardEvents(listenerId: number): void;\n  configureLayoutAnimation(\n    viewTag: number,\n    type: LayoutAnimationType,\n    sharedTransitionTag: string,\n    config: ShareableRef<Keyframe | LayoutAnimationFunction>\n  ): void;\n}\n\nexport class NativeReanimated {\n  native = true;\n  private InnerNativeModule: NativeReanimatedModule;\n\n  constructor() {\n    if (global.__reanimatedModuleProxy === undefined) {\n      const { ReanimatedModule } = NativeModules;\n      ReanimatedModule?.installTurboModule();\n    }\n    if (global.__reanimatedModuleProxy === undefined) {\n      throw new Error(\n        `[Reanimated] Native part of Reanimated doesn't seem to be initialized.\nSee https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#Native-part-of-reanimated-doesnt-seem-to-be-initialized for more details.`\n      );\n    }\n    checkCppVersion();\n    this.InnerNativeModule = global.__reanimatedModuleProxy;\n    this.InnerNativeModule.installValueUnpacker(getValueUnpackerCode());\n  }\n\n  makeShareableClone<T>(value: T, shouldPersistRemote: boolean) {\n    return this.InnerNativeModule.makeShareableClone(\n      value,\n      shouldPersistRemote\n    );\n  }\n\n  makeSynchronizedDataHolder<T>(valueRef: ShareableRef<T>) {\n    return this.InnerNativeModule.makeSynchronizedDataHolder(valueRef);\n  }\n\n  getDataSynchronously<T>(ref: ShareableSyncDataHolderRef<T>) {\n    return this.InnerNativeModule.getDataSynchronously(ref);\n  }\n\n  scheduleOnUI<T>(shareable: ShareableRef<T>) {\n    return this.InnerNativeModule.scheduleOnUI(shareable);\n  }\n\n  createWorkletRuntime(name: string, initializer: ShareableRef<() => void>) {\n    return this.InnerNativeModule.createWorkletRuntime(name, initializer);\n  }\n\n  registerSensor(\n    sensorType: number,\n    interval: number,\n    iosReferenceFrame: number,\n    handler: ShareableRef<(data: Value3D | ValueRotation) => void>\n  ) {\n    return this.InnerNativeModule.registerSensor(\n      sensorType,\n      interval,\n      iosReferenceFrame,\n      handler\n    );\n  }\n\n  unregisterSensor(sensorId: number) {\n    return this.InnerNativeModule.unregisterSensor(sensorId);\n  }\n\n  registerEventHandler<T>(\n    eventHandler: ShareableRef<T>,\n    eventName: string,\n    emitterReactTag: number\n  ) {\n    return this.InnerNativeModule.registerEventHandler(\n      eventHandler,\n      eventName,\n      emitterReactTag\n    );\n  }\n\n  unregisterEventHandler(id: number) {\n    return this.InnerNativeModule.unregisterEventHandler(id);\n  }\n\n  getViewProp<T>(\n    viewTag: number,\n    propName: string,\n    callback?: (result: T) => void\n  ) {\n    return this.InnerNativeModule.getViewProp(viewTag, propName, callback);\n  }\n\n  configureLayoutAnimation(\n    viewTag: number,\n    type: LayoutAnimationType,\n    sharedTransitionTag: string,\n    config: ShareableRef<Keyframe | LayoutAnimationFunction>\n  ) {\n    this.InnerNativeModule.configureLayoutAnimation(\n      viewTag,\n      type,\n      sharedTransitionTag,\n      config\n    );\n  }\n\n  enableLayoutAnimations(flag: boolean) {\n    this.InnerNativeModule.enableLayoutAnimations(flag);\n  }\n\n  configureProps(uiProps: string[], nativeProps: string[]) {\n    this.InnerNativeModule.configureProps(uiProps, nativeProps);\n  }\n\n  subscribeForKeyboardEvents(\n    handler: ShareableRef<number>,\n    isStatusBarTranslucent: boolean\n  ) {\n    return this.InnerNativeModule.subscribeForKeyboardEvents(\n      handler,\n      isStatusBarTranslucent\n    );\n  }\n\n  unsubscribeFromKeyboardEvents(listenerId: number) {\n    this.InnerNativeModule.unsubscribeFromKeyboardEvents(listenerId);\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}